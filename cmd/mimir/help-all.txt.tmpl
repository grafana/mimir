Usage of ./cmd/mimir/mimir:
  -activity-tracker.filepath string
    	File where ongoing activities are stored. If empty, activity tracking is disabled. (default "./metrics-activity.log")
  -activity-tracker.max-entries int
    	Max number of concurrent activities that can be tracked. Used to size the file in advance. Additional activities are ignored. (default 1024)
  -alertmanager-storage.azure.account-key string
    	Azure storage account key. If unset, Azure managed identities will be used for authentication instead.
  -alertmanager-storage.azure.account-name string
    	Azure storage account name
  -alertmanager-storage.azure.connection-string string
    	If `connection-string` is set, the value of `endpoint-suffix` will not be used. Use this method over `account-key` if you need to authenticate via a SAS token. Or if you use the Azurite emulator.
  -alertmanager-storage.azure.container-name string
    	Azure storage container name
  -alertmanager-storage.azure.endpoint-suffix string
    	Azure storage endpoint suffix without schema. The account name will be prefixed to this value to create the FQDN. If set to empty string, default endpoint suffix is used.
  -alertmanager-storage.azure.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -alertmanager-storage.azure.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -alertmanager-storage.azure.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -alertmanager-storage.azure.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -alertmanager-storage.azure.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -alertmanager-storage.azure.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -alertmanager-storage.azure.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -alertmanager-storage.azure.http.tls-server-name string
    	Override the expected name on the server certificate.
  -alertmanager-storage.azure.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -alertmanager-storage.azure.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -alertmanager-storage.azure.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -alertmanager-storage.azure.max-retries int
    	Number of retries for recoverable errors (default 20)
  -alertmanager-storage.azure.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -alertmanager-storage.azure.user-assigned-id string
    	User assigned managed identity. If empty, then System assigned identity is used.
  -alertmanager-storage.backend string
    	Backend storage to use. Supported backends are: s3, gcs, azure, swift, filesystem, local. (default "filesystem")
  -alertmanager-storage.filesystem.dir string
    	Local filesystem storage directory. (default "alertmanager")
  -alertmanager-storage.gcs.bucket-name string
    	GCS bucket name
  -alertmanager-storage.gcs.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -alertmanager-storage.gcs.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -alertmanager-storage.gcs.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -alertmanager-storage.gcs.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -alertmanager-storage.gcs.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -alertmanager-storage.gcs.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -alertmanager-storage.gcs.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -alertmanager-storage.gcs.http.tls-server-name string
    	Override the expected name on the server certificate.
  -alertmanager-storage.gcs.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -alertmanager-storage.gcs.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -alertmanager-storage.gcs.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -alertmanager-storage.gcs.service-account string
    	JSON either from a Google Developers Console client_credentials.json file, or a Google Developers service account key. Needs to be valid JSON, not a filesystem path.
  -alertmanager-storage.gcs.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -alertmanager-storage.local.path string
    	Path at which alertmanager configurations are stored.
  -alertmanager-storage.s3.access-key-id string
    	S3 access key ID
  -alertmanager-storage.s3.bucket-lookup-type value
    	Bucket lookup style type, used to access bucket in S3-compatible service. Default is auto. Supported values are: auto, path, virtual-hosted.
  -alertmanager-storage.s3.bucket-name string
    	S3 bucket name
  -alertmanager-storage.s3.dualstack-enabled
    	[experimental] When enabled, direct all AWS S3 requests to the dual-stack IPv4/IPv6 endpoint for the configured region. (default true)
  -alertmanager-storage.s3.endpoint string
    	The S3 bucket endpoint. It could be an AWS S3 endpoint listed at https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an S3-compatible service in hostname:port format.
  -alertmanager-storage.s3.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -alertmanager-storage.s3.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -alertmanager-storage.s3.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -alertmanager-storage.s3.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -alertmanager-storage.s3.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -alertmanager-storage.s3.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -alertmanager-storage.s3.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -alertmanager-storage.s3.http.tls-server-name string
    	Override the expected name on the server certificate.
  -alertmanager-storage.s3.insecure
    	If enabled, use http:// for the S3 endpoint instead of https://. This could be useful in local dev/test environments while using an S3-compatible backend storage, like Minio.
  -alertmanager-storage.s3.list-objects-version string
    	Use a specific version of the S3 list object API. Supported values are v1 or v2. Default is unset.
  -alertmanager-storage.s3.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -alertmanager-storage.s3.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -alertmanager-storage.s3.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -alertmanager-storage.s3.native-aws-auth-enabled
    	[experimental] If enabled, it will use the default authentication methods of the AWS SDK for go based on known environment variables and known AWS config files.
  -alertmanager-storage.s3.part-size uint
    	[experimental] The minimum file size in bytes used for multipart uploads. If 0, the value is optimally computed for each object.
  -alertmanager-storage.s3.region string
    	S3 region. If unset, the client will issue a S3 GetBucketLocation API call to autodetect it.
  -alertmanager-storage.s3.secret-access-key string
    	S3 secret access key
  -alertmanager-storage.s3.send-content-md5
    	[experimental] If enabled, a Content-MD5 header is sent with S3 Put Object requests. Consumes more resources to compute the MD5, but may improve compatibility with object storage services that do not support checksums.
  -alertmanager-storage.s3.session-token string
    	S3 session token
  -alertmanager-storage.s3.signature-version string
    	The signature version to use for authenticating against S3. Supported values are: v4, v2. (default "v4")
  -alertmanager-storage.s3.sse.kms-encryption-context string
    	KMS Encryption Context used for object encryption. It expects JSON formatted string.
  -alertmanager-storage.s3.sse.kms-key-id string
    	KMS Key ID used to encrypt objects in S3
  -alertmanager-storage.s3.sse.type string
    	Enable AWS Server Side Encryption. Supported values: SSE-KMS, SSE-S3.
  -alertmanager-storage.s3.storage-class string
    	[experimental] The S3 storage class to use, not set by default. Details can be found at https://aws.amazon.com/s3/storage-classes/. Supported values are: STANDARD, REDUCED_REDUNDANCY, GLACIER, STANDARD_IA, ONEZONE_IA, INTELLIGENT_TIERING, DEEP_ARCHIVE, OUTPOSTS, GLACIER_IR, SNOW, EXPRESS_ONEZONE
  -alertmanager-storage.s3.sts-endpoint string
    	Accessing S3 resources using temporary, secure credentials provided by AWS Security Token Service.
  -alertmanager-storage.s3.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -alertmanager-storage.s3.trace.enabled
    	When enabled, low-level S3 HTTP operation information is logged at the debug level.
  -alertmanager-storage.storage-prefix string
    	Prefix for all objects stored in the backend storage. For simplicity, it may only contain digits and English alphabet letters.
  -alertmanager-storage.swift.application-credential-id string
    	OpenStack Swift application credential id
  -alertmanager-storage.swift.application-credential-name string
    	OpenStack Swift application credential name
  -alertmanager-storage.swift.application-credential-secret string
    	OpenStack Swift application credential secret
  -alertmanager-storage.swift.auth-url string
    	OpenStack Swift authentication URL
  -alertmanager-storage.swift.auth-version int
    	OpenStack Swift authentication API version. 0 to autodetect.
  -alertmanager-storage.swift.connect-timeout duration
    	Time after which a connection attempt is aborted. (default 10s)
  -alertmanager-storage.swift.container-name string
    	Name of the OpenStack Swift container to put chunks in.
  -alertmanager-storage.swift.domain-id string
    	OpenStack Swift user's domain ID.
  -alertmanager-storage.swift.domain-name string
    	OpenStack Swift user's domain name.
  -alertmanager-storage.swift.max-retries int
    	Max retries on requests error. (default 3)
  -alertmanager-storage.swift.password string
    	OpenStack Swift API key.
  -alertmanager-storage.swift.project-domain-id string
    	ID of the OpenStack Swift project's domain (v3 auth only), only needed if it differs the from user domain.
  -alertmanager-storage.swift.project-domain-name string
    	Name of the OpenStack Swift project's domain (v3 auth only), only needed if it differs from the user domain.
  -alertmanager-storage.swift.project-id string
    	OpenStack Swift project ID (v2,v3 auth only).
  -alertmanager-storage.swift.project-name string
    	OpenStack Swift project name (v2,v3 auth only).
  -alertmanager-storage.swift.region-name string
    	OpenStack Swift Region to use (v2,v3 auth only).
  -alertmanager-storage.swift.request-timeout duration
    	Time after which an idle request is aborted. The timeout watchdog is reset each time some data is received, so the timeout triggers after X time no data is received on a request. (default 5s)
  -alertmanager-storage.swift.user-domain-id string
    	OpenStack Swift user's domain ID.
  -alertmanager-storage.swift.user-domain-name string
    	OpenStack Swift user's domain name.
  -alertmanager-storage.swift.user-id string
    	OpenStack Swift user ID.
  -alertmanager-storage.swift.username string
    	OpenStack Swift username.
  -alertmanager.alertmanager-client.backoff-max-period duration
    	Maximum delay when backing off. (default 10s)
  -alertmanager.alertmanager-client.backoff-min-period duration
    	Minimum delay when backing off. (default 100ms)
  -alertmanager.alertmanager-client.backoff-on-ratelimits
    	Enable backoff and retry when we hit rate limits.
  -alertmanager.alertmanager-client.backoff-retries int
    	Number of times to backoff and retry before failing. (default 10)
  -alertmanager.alertmanager-client.connect-backoff-base-delay duration
    	Initial backoff delay after first connection failure. Only relevant if ConnectTimeout > 0. (default 1s)
  -alertmanager.alertmanager-client.connect-backoff-max-delay duration
    	Maximum backoff delay when establishing a connection. Only relevant if ConnectTimeout > 0. (default 5s)
  -alertmanager.alertmanager-client.connect-timeout duration
    	The maximum amount of time to establish a connection. A value of 0 means default gRPC client connect timeout and backoff. (default 5s)
  -alertmanager.alertmanager-client.grpc-client-rate-limit float
    	Rate limit for gRPC client; 0 means disabled.
  -alertmanager.alertmanager-client.grpc-client-rate-limit-burst int
    	Rate limit burst for gRPC client.
  -alertmanager.alertmanager-client.grpc-compression string
    	Use compression when sending messages. Supported values are: 'gzip', 'snappy', 's2' and '' (disable compression)
  -alertmanager.alertmanager-client.grpc-max-recv-msg-size int
    	gRPC client max receive message size (bytes). (default 104857600)
  -alertmanager.alertmanager-client.grpc-max-send-msg-size int
    	gRPC client max send message size (bytes). (default 104857600)
  -alertmanager.alertmanager-client.initial-connection-window-size value
    	[experimental] Initial connection window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -alertmanager.alertmanager-client.initial-stream-window-size value
    	[experimental] Initial stream window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -alertmanager.alertmanager-client.remote-timeout duration
    	Timeout for downstream alertmanagers. (default 2s)
  -alertmanager.alertmanager-client.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -alertmanager.alertmanager-client.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -alertmanager.alertmanager-client.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -alertmanager.alertmanager-client.tls-enabled
    	Enable TLS in the gRPC client. This flag needs to be enabled when any other TLS flag is set. If set to false, insecure connection to gRPC server will be used.
  -alertmanager.alertmanager-client.tls-insecure-skip-verify
    	Skip validating server certificate.
  -alertmanager.alertmanager-client.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -alertmanager.alertmanager-client.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -alertmanager.alertmanager-client.tls-server-name string
    	Override the expected name on the server certificate.
  -alertmanager.configs.fallback string
    	Filename of fallback config to use if none specified for instance.
  -alertmanager.configs.poll-interval duration
    	How frequently to poll Alertmanager configs. (default 15s)
  -alertmanager.enable-api
    	Enable the alertmanager config API. (default true)
  -alertmanager.enable-state-cleanup
    	Enables periodic cleanup of alertmanager stateful data (notification logs and silences) from object storage. When enabled, data is removed for any tenant that does not have a configuration. (default true)
  -alertmanager.grafana-alertmanager-compatibility-enabled
    	[experimental] Enable routes to support the migration and operation of the Grafana Alertmanager.
  -alertmanager.log-parsing-label-matchers
    	[experimental] Enable logging when parsing label matchers. This flag is intended to be used with -alertmanager.utf8-strict-mode-enabled to validate UTF-8 strict mode is working as intended.
  -alertmanager.max-alerts-count int
    	Maximum number of alerts that a single tenant can have. Inserting more alerts will fail with a log message and metric increment. 0 = no limit.
  -alertmanager.max-alerts-size-bytes int
    	Maximum total size of alerts that a single tenant can have, alert size is the sum of the bytes of its labels, annotations and generatorURL. Inserting more alerts will fail with a log message and metric increment. 0 = no limit.
  -alertmanager.max-concurrent-get-requests-per-tenant int
    	Maximum number of concurrent GET requests allowed per tenant. The zero value (and negative values) result in a limit of GOMAXPROCS or 8, whichever is larger. Status code 503 is served for GET requests that would exceed the concurrency limit.
  -alertmanager.max-config-size-bytes int
    	Maximum size of the Alertmanager configuration for a tenant. 0 = no limit.
  -alertmanager.max-dispatcher-aggregation-groups int
    	Maximum number of aggregation groups in Alertmanager's dispatcher that a tenant can have. Each active aggregation group uses single goroutine. When the limit is reached, dispatcher will not dispatch alerts that belong to additional aggregation groups, but existing groups will keep working properly. 0 = no limit.
  -alertmanager.max-grafana-config-size-bytes value
    	Maximum size of the Grafana Alertmanager configuration for a tenant. 0 = no limit.
  -alertmanager.max-grafana-state-size-bytes value
    	Maximum size of the Grafana Alertmanager state for a tenant. 0 = no limit.
  -alertmanager.max-recv-msg-size int
    	Maximum size (bytes) of an accepted HTTP request body. (default 104857600)
  -alertmanager.max-silence-size-bytes int
    	Maximum silence size in bytes. 0 = no limit.
  -alertmanager.max-silences-count int
    	Maximum number of silences, including expired silences, that a tenant can have at once. 0 = no limit.
  -alertmanager.max-template-size-bytes int
    	Maximum size of single template in tenant's Alertmanager configuration uploaded via Alertmanager API. 0 = no limit.
  -alertmanager.max-templates-count int
    	Maximum number of templates in tenant's Alertmanager configuration uploaded via Alertmanager API. 0 = no limit.
  -alertmanager.notification-rate-limit float
    	Per-tenant rate limit for sending notifications from Alertmanager in notifications/sec. 0 = rate limit disabled. Negative value = no notifications are allowed.
  -alertmanager.notification-rate-limit-per-integration value
    	Per-integration notification rate limits. Value is a map, where each key is integration name and value is a rate-limit (float). On command line, this map is given in JSON format. Rate limit has the same meaning as -alertmanager.notification-rate-limit, but only applies for specific integration. Allowed integration names: webhook, email, pagerduty, opsgenie, wechat, slack, victorops, pushover, sns, webex, telegram, discord, msteams. (default {})
  -alertmanager.peer-timeout duration
    	Time to wait between peers to send notifications. (default 15s)
  -alertmanager.persist-interval duration
    	The interval between persisting the current alertmanager state (notification log and silences) to object storage. This is only used when sharding is enabled. This state is read when all replicas for a shard can not be contacted. In this scenario, having persisted the state more frequently will result in potentially fewer lost silences, and fewer duplicate notifications. (default 15m0s)
  -alertmanager.receivers-firewall-block-cidr-networks comma-separated-list-of-strings
    	Comma-separated list of network CIDRs to block in Alertmanager receiver integrations.
  -alertmanager.receivers-firewall-block-private-addresses
    	True to block private and local addresses in Alertmanager receiver integrations. It blocks private addresses defined by  RFC 1918 (IPv4 addresses) and RFC 4193 (IPv6 addresses), as well as loopback, local unicast and local multicast addresses.
  -alertmanager.sharding-ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -alertmanager.sharding-ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -alertmanager.sharding-ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -alertmanager.sharding-ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -alertmanager.sharding-ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -alertmanager.sharding-ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -alertmanager.sharding-ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -alertmanager.sharding-ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -alertmanager.sharding-ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -alertmanager.sharding-ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -alertmanager.sharding-ring.etcd.password string
    	Etcd password.
  -alertmanager.sharding-ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -alertmanager.sharding-ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -alertmanager.sharding-ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -alertmanager.sharding-ring.etcd.tls-enabled
    	Enable TLS.
  -alertmanager.sharding-ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -alertmanager.sharding-ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -alertmanager.sharding-ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -alertmanager.sharding-ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -alertmanager.sharding-ring.etcd.username string
    	Etcd username.
  -alertmanager.sharding-ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -alertmanager.sharding-ring.heartbeat-timeout duration
    	The heartbeat timeout after which alertmanagers are considered unhealthy within the ring. 0 = never (timeout disabled). (default 1m0s)
  -alertmanager.sharding-ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -alertmanager.sharding-ring.instance-availability-zone string
    	The availability zone where this instance is running. Required if zone-awareness is enabled.
  -alertmanager.sharding-ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -alertmanager.sharding-ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -alertmanager.sharding-ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -alertmanager.sharding-ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -alertmanager.sharding-ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -alertmanager.sharding-ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -alertmanager.sharding-ring.multi.primary string
    	Primary backend storage used by multi-client.
  -alertmanager.sharding-ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -alertmanager.sharding-ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "alertmanagers/")
  -alertmanager.sharding-ring.replication-factor int
    	The replication factor to use when sharding the alertmanager. (default 3)
  -alertmanager.sharding-ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -alertmanager.sharding-ring.zone-awareness-enabled
    	True to enable zone-awareness and replicate alerts across different availability zones.
  -alertmanager.storage.path string
    	Directory to store Alertmanager state and temporarily configuration files. The content of this directory is not required to be persisted between restarts unless Alertmanager replication has been disabled. (default "./data-alertmanager/")
  -alertmanager.storage.retention duration
    	How long should we store stateful data (notification logs and silences). For notification log entries, refers to how long should we keep entries before they expire and are deleted. For silences, refers to how long should tenants view silences after they expire and are deleted. (default 120h0m0s)
  -alertmanager.utf8-migration-logging-enabled
    	[experimental] Enable logging of tenant configurations that are incompatible with UTF-8 strict mode.
  -alertmanager.utf8-strict-mode-enabled
    	[experimental] Enable UTF-8 strict mode. Allows UTF-8 characters in the matchers for routes and inhibition rules, in silences, and in the labels for alerts. It is recommended that all tenants run the `migrate-utf8` command in mimirtool before enabling this mode. Otherwise, some tenant configurations might fail to load. For more information, refer to [Enable UTF-8](https://grafana.com/docs/mimir/<MIMIR_VERSION>/references/architecture/components/alertmanager/#enable-utf-8). Enabling and then disabling UTF-8 strict mode can break existing Alertmanager configurations if tenants added UTF-8 characters to their Alertmanager configuration while it was enabled.
  -alertmanager.web.external-url string
    	The URL under which Alertmanager is externally reachable (eg. could be different than -http.alertmanager-http-prefix in case Alertmanager is served via a reverse proxy). This setting is used both to configure the internal requests router and to generate links in alert templates. If the external URL has a path portion, it will be used to prefix all HTTP endpoints served by Alertmanager, both the UI and API. (default http://localhost:8080/alertmanager)
  -api.get-request-for-ingester-shutdown-enabled
    	[deprecated] Enable GET requests to the /ingester/shutdown endpoint to trigger an ingester shutdown. This is a potentially dangerous operation and should only be enabled consciously.
  -api.skip-label-count-validation-header-enabled
    	Allows to disable enforcement of the label count limit "max_label_names_per_series" via X-Mimir-SkipLabelCountValidation header on the http write path. Allowing this for external clients allows any client to send invalid label counts. After enabling it, requests with a specific HTTP header set to true will not have label counts validated.
  -api.skip-label-name-validation-header-enabled
    	Allows to skip label name validation via X-Mimir-SkipLabelNameValidation header on the http write path. Use with caution as it breaks PromQL. Allowing this for external clients allows any client to send invalid label names. After enabling it, requests with a specific HTTP header set to true will not have label names validated.
  -auth.multitenancy-enabled
    	When set to true, incoming HTTP requests must specify tenant ID in HTTP X-Scope-OrgId header. When set to false, tenant ID from -auth.no-auth-tenant is used instead. (default true)
  -auth.no-auth-tenant string
    	Tenant ID to use when multitenancy is disabled. (default "anonymous")
  -blocks-storage.azure.account-key string
    	Azure storage account key. If unset, Azure managed identities will be used for authentication instead.
  -blocks-storage.azure.account-name string
    	Azure storage account name
  -blocks-storage.azure.connection-string string
    	If `connection-string` is set, the value of `endpoint-suffix` will not be used. Use this method over `account-key` if you need to authenticate via a SAS token. Or if you use the Azurite emulator.
  -blocks-storage.azure.container-name string
    	Azure storage container name
  -blocks-storage.azure.endpoint-suffix string
    	Azure storage endpoint suffix without schema. The account name will be prefixed to this value to create the FQDN. If set to empty string, default endpoint suffix is used.
  -blocks-storage.azure.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -blocks-storage.azure.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -blocks-storage.azure.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -blocks-storage.azure.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -blocks-storage.azure.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -blocks-storage.azure.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -blocks-storage.azure.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -blocks-storage.azure.http.tls-server-name string
    	Override the expected name on the server certificate.
  -blocks-storage.azure.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -blocks-storage.azure.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -blocks-storage.azure.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -blocks-storage.azure.max-retries int
    	Number of retries for recoverable errors (default 20)
  -blocks-storage.azure.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -blocks-storage.azure.user-assigned-id string
    	User assigned managed identity. If empty, then System assigned identity is used.
  -blocks-storage.backend string
    	Backend storage to use. Supported backends are: s3, gcs, azure, swift, filesystem. (default "filesystem")
  -blocks-storage.bucket-store.batch-series-size int
    	This option controls how many series to fetch per batch. The batch size must be greater than 0. (default 5000)
  -blocks-storage.bucket-store.block-sync-concurrency int
    	Maximum number of concurrent blocks synching per tenant. (default 4)
  -blocks-storage.bucket-store.bucket-index.idle-timeout duration
    	How long a unused bucket index should be cached. Once this timeout expires, the unused bucket index is removed from the in-memory cache. This option is used only by querier. (default 1h0m0s)
  -blocks-storage.bucket-store.bucket-index.max-stale-period duration
    	The maximum allowed age of a bucket index (last updated) before queries start failing because the bucket index is too old. The bucket index is periodically updated by the compactor, and this check is enforced in the querier (at query time). (default 1h0m0s)
  -blocks-storage.bucket-store.bucket-index.update-on-error-interval duration
    	How frequently a bucket index, which previously failed to load, should be tried to load again. This option is used only by querier. (default 1m0s)
  -blocks-storage.bucket-store.chunks-cache.attributes-in-memory-max-items int
    	Maximum number of object attribute items to keep in a first level in-memory LRU cache. Metadata will be stored and fetched in-memory before hitting the cache backend. 0 to disable the in-memory cache. (default 50000)
  -blocks-storage.bucket-store.chunks-cache.attributes-ttl duration
    	TTL for caching object attributes for chunks. If the metadata cache is configured, attributes will be stored under this cache backend, otherwise attributes are stored in the chunks cache backend. (default 168h0m0s)
  -blocks-storage.bucket-store.chunks-cache.backend string
    	Backend for chunks cache, if not empty. Supported values: memcached, redis.
  -blocks-storage.bucket-store.chunks-cache.max-get-range-requests int
    	Maximum number of sub-GetRange requests that a single GetRange request can be split into when fetching chunks. Zero or negative value = unlimited number of sub-requests. (default 3)
  -blocks-storage.bucket-store.chunks-cache.memcached.addresses comma-separated-list-of-strings
    	Comma-separated list of memcached addresses. Each address can be an IP address, hostname, or an entry specified in the DNS Service Discovery format.
  -blocks-storage.bucket-store.chunks-cache.memcached.connect-timeout duration
    	The connection timeout. (default 200ms)
  -blocks-storage.bucket-store.chunks-cache.memcached.max-async-buffer-size int
    	The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -blocks-storage.bucket-store.chunks-cache.memcached.max-async-concurrency int
    	The maximum number of concurrent asynchronous operations can occur. (default 50)
  -blocks-storage.bucket-store.chunks-cache.memcached.max-get-multi-batch-size int
    	The maximum number of keys a single underlying get operation should run. If more keys are specified, internally keys are split into multiple batches and fetched concurrently, honoring the max concurrency. If set to 0, the max batch size is unlimited. (default 100)
  -blocks-storage.bucket-store.chunks-cache.memcached.max-get-multi-concurrency int
    	The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -blocks-storage.bucket-store.chunks-cache.memcached.max-idle-connections int
    	The maximum number of idle connections that will be maintained per address. (default 100)
  -blocks-storage.bucket-store.chunks-cache.memcached.max-item-size int
    	The maximum size of an item stored in memcached, in bytes. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 1048576)
  -blocks-storage.bucket-store.chunks-cache.memcached.min-idle-connections-headroom-percentage float
    	The minimum number of idle connections to keep open as a percentage (0-100) of the number of recently used idle connections. If negative, idle connections are kept open indefinitely. (default -1)
  -blocks-storage.bucket-store.chunks-cache.memcached.read-buffer-size-bytes int
    	[experimental] The size of the read buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -blocks-storage.bucket-store.chunks-cache.memcached.timeout duration
    	The socket read/write timeout. (default 200ms)
  -blocks-storage.bucket-store.chunks-cache.memcached.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -blocks-storage.bucket-store.chunks-cache.memcached.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -blocks-storage.bucket-store.chunks-cache.memcached.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -blocks-storage.bucket-store.chunks-cache.memcached.tls-enabled
    	Enable connecting to Memcached with TLS.
  -blocks-storage.bucket-store.chunks-cache.memcached.tls-insecure-skip-verify
    	Skip validating server certificate.
  -blocks-storage.bucket-store.chunks-cache.memcached.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -blocks-storage.bucket-store.chunks-cache.memcached.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -blocks-storage.bucket-store.chunks-cache.memcached.tls-server-name string
    	Override the expected name on the server certificate.
  -blocks-storage.bucket-store.chunks-cache.memcached.write-buffer-size-bytes int
    	[experimental] The size of the write buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -blocks-storage.bucket-store.chunks-cache.redis.connection-pool-size int
    	[deprecated] Maximum number of connections in the pool. (default 100)
  -blocks-storage.bucket-store.chunks-cache.redis.connection-pool-timeout duration
    	[deprecated] Maximum duration to wait to get a connection from pool. (default 4s)
  -blocks-storage.bucket-store.chunks-cache.redis.db int
    	[deprecated] Database index.
  -blocks-storage.bucket-store.chunks-cache.redis.dial-timeout duration
    	[deprecated] Client dial timeout. (default 5s)
  -blocks-storage.bucket-store.chunks-cache.redis.endpoint comma-separated-list-of-strings
    	[deprecated] Redis Server or Cluster configuration endpoint to use for caching. A comma-separated list of endpoints for Redis Cluster or Redis Sentinel.
  -blocks-storage.bucket-store.chunks-cache.redis.idle-timeout duration
    	[deprecated] Amount of time after which client closes idle connections. (default 5m0s)
  -blocks-storage.bucket-store.chunks-cache.redis.master-name string
    	[deprecated] Redis Sentinel master name. An empty string for Redis Server or Redis Cluster.
  -blocks-storage.bucket-store.chunks-cache.redis.max-async-buffer-size int
    	[deprecated] The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -blocks-storage.bucket-store.chunks-cache.redis.max-async-concurrency int
    	[deprecated] The maximum number of concurrent asynchronous operations can occur. (default 50)
  -blocks-storage.bucket-store.chunks-cache.redis.max-connection-age duration
    	[deprecated] Close connections older than this duration. If the value is zero, then the pool does not close connections based on age.
  -blocks-storage.bucket-store.chunks-cache.redis.max-get-multi-batch-size int
    	[deprecated] The maximum size per batch for mget operations. (default 100)
  -blocks-storage.bucket-store.chunks-cache.redis.max-get-multi-concurrency int
    	[deprecated] The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -blocks-storage.bucket-store.chunks-cache.redis.max-item-size int
    	[deprecated] The maximum size of an item stored in Redis. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 16777216)
  -blocks-storage.bucket-store.chunks-cache.redis.min-idle-connections int
    	[deprecated] Minimum number of idle connections. (default 10)
  -blocks-storage.bucket-store.chunks-cache.redis.password string
    	[deprecated] Password to use when connecting to Redis.
  -blocks-storage.bucket-store.chunks-cache.redis.read-timeout duration
    	[deprecated] Client read timeout. (default 3s)
  -blocks-storage.bucket-store.chunks-cache.redis.tls-ca-path string
    	[deprecated] Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -blocks-storage.bucket-store.chunks-cache.redis.tls-cert-path string
    	[deprecated] Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -blocks-storage.bucket-store.chunks-cache.redis.tls-cipher-suites string
    	[deprecated] Override the default cipher suite list (separated by commas).
  -blocks-storage.bucket-store.chunks-cache.redis.tls-enabled
    	[deprecated] Enable connecting to Redis with TLS.
  -blocks-storage.bucket-store.chunks-cache.redis.tls-insecure-skip-verify
    	[deprecated] Skip validating server certificate.
  -blocks-storage.bucket-store.chunks-cache.redis.tls-key-path string
    	[deprecated] Path to the key for the client certificate. Also requires the client certificate to be configured.
  -blocks-storage.bucket-store.chunks-cache.redis.tls-min-version string
    	[deprecated] Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -blocks-storage.bucket-store.chunks-cache.redis.tls-server-name string
    	[deprecated] Override the expected name on the server certificate.
  -blocks-storage.bucket-store.chunks-cache.redis.username string
    	[deprecated] Username to use when connecting to Redis.
  -blocks-storage.bucket-store.chunks-cache.redis.write-timeout duration
    	[deprecated] Client write timeout. (default 3s)
  -blocks-storage.bucket-store.chunks-cache.subrange-ttl duration
    	TTL for caching individual chunks subranges. (default 24h0m0s)
  -blocks-storage.bucket-store.ignore-blocks-within duration
    	Blocks with minimum time within this duration are ignored, and not loaded by store-gateway. Useful when used together with -querier.query-store-after to prevent loading young blocks, because there are usually many of them (depending on number of ingesters) and they are not yet compacted. Negative values or 0 disable the filter. (default 10h0m0s)
  -blocks-storage.bucket-store.ignore-deletion-marks-delay duration
    	Duration after which the blocks marked for deletion will be filtered out while fetching blocks. The idea of ignore-deletion-marks-delay is to ignore blocks that are marked for deletion with some delay. This ensures store can still serve blocks that are meant to be deleted but do not have a replacement yet. (default 1h0m0s)
  -blocks-storage.bucket-store.ignore-deletion-marks-while-querying-delay duration
    	[experimental] Duration after which blocks marked for deletion will still be queried. This ensures queriers still query blocks that are meant to be deleted but do not have a replacement yet. (default 50m0s)
  -blocks-storage.bucket-store.index-cache.backend string
    	The index cache backend type. Supported values: inmemory, memcached, redis. (default "inmemory")
  -blocks-storage.bucket-store.index-cache.inmemory.max-size-bytes uint
    	Maximum size in bytes of in-memory index cache used to speed up blocks index lookups (shared between all tenants). (default 1073741824)
  -blocks-storage.bucket-store.index-cache.memcached.addresses comma-separated-list-of-strings
    	Comma-separated list of memcached addresses. Each address can be an IP address, hostname, or an entry specified in the DNS Service Discovery format.
  -blocks-storage.bucket-store.index-cache.memcached.connect-timeout duration
    	The connection timeout. (default 200ms)
  -blocks-storage.bucket-store.index-cache.memcached.max-async-buffer-size int
    	The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -blocks-storage.bucket-store.index-cache.memcached.max-async-concurrency int
    	The maximum number of concurrent asynchronous operations can occur. (default 50)
  -blocks-storage.bucket-store.index-cache.memcached.max-get-multi-batch-size int
    	The maximum number of keys a single underlying get operation should run. If more keys are specified, internally keys are split into multiple batches and fetched concurrently, honoring the max concurrency. If set to 0, the max batch size is unlimited. (default 100)
  -blocks-storage.bucket-store.index-cache.memcached.max-get-multi-concurrency int
    	The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -blocks-storage.bucket-store.index-cache.memcached.max-idle-connections int
    	The maximum number of idle connections that will be maintained per address. (default 100)
  -blocks-storage.bucket-store.index-cache.memcached.max-item-size int
    	The maximum size of an item stored in memcached, in bytes. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 1048576)
  -blocks-storage.bucket-store.index-cache.memcached.min-idle-connections-headroom-percentage float
    	The minimum number of idle connections to keep open as a percentage (0-100) of the number of recently used idle connections. If negative, idle connections are kept open indefinitely. (default -1)
  -blocks-storage.bucket-store.index-cache.memcached.read-buffer-size-bytes int
    	[experimental] The size of the read buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -blocks-storage.bucket-store.index-cache.memcached.timeout duration
    	The socket read/write timeout. (default 200ms)
  -blocks-storage.bucket-store.index-cache.memcached.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -blocks-storage.bucket-store.index-cache.memcached.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -blocks-storage.bucket-store.index-cache.memcached.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -blocks-storage.bucket-store.index-cache.memcached.tls-enabled
    	Enable connecting to Memcached with TLS.
  -blocks-storage.bucket-store.index-cache.memcached.tls-insecure-skip-verify
    	Skip validating server certificate.
  -blocks-storage.bucket-store.index-cache.memcached.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -blocks-storage.bucket-store.index-cache.memcached.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -blocks-storage.bucket-store.index-cache.memcached.tls-server-name string
    	Override the expected name on the server certificate.
  -blocks-storage.bucket-store.index-cache.memcached.write-buffer-size-bytes int
    	[experimental] The size of the write buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -blocks-storage.bucket-store.index-cache.redis.connection-pool-size int
    	[deprecated] Maximum number of connections in the pool. (default 100)
  -blocks-storage.bucket-store.index-cache.redis.connection-pool-timeout duration
    	[deprecated] Maximum duration to wait to get a connection from pool. (default 4s)
  -blocks-storage.bucket-store.index-cache.redis.db int
    	[deprecated] Database index.
  -blocks-storage.bucket-store.index-cache.redis.dial-timeout duration
    	[deprecated] Client dial timeout. (default 5s)
  -blocks-storage.bucket-store.index-cache.redis.endpoint comma-separated-list-of-strings
    	[deprecated] Redis Server or Cluster configuration endpoint to use for caching. A comma-separated list of endpoints for Redis Cluster or Redis Sentinel.
  -blocks-storage.bucket-store.index-cache.redis.idle-timeout duration
    	[deprecated] Amount of time after which client closes idle connections. (default 5m0s)
  -blocks-storage.bucket-store.index-cache.redis.master-name string
    	[deprecated] Redis Sentinel master name. An empty string for Redis Server or Redis Cluster.
  -blocks-storage.bucket-store.index-cache.redis.max-async-buffer-size int
    	[deprecated] The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -blocks-storage.bucket-store.index-cache.redis.max-async-concurrency int
    	[deprecated] The maximum number of concurrent asynchronous operations can occur. (default 50)
  -blocks-storage.bucket-store.index-cache.redis.max-connection-age duration
    	[deprecated] Close connections older than this duration. If the value is zero, then the pool does not close connections based on age.
  -blocks-storage.bucket-store.index-cache.redis.max-get-multi-batch-size int
    	[deprecated] The maximum size per batch for mget operations. (default 100)
  -blocks-storage.bucket-store.index-cache.redis.max-get-multi-concurrency int
    	[deprecated] The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -blocks-storage.bucket-store.index-cache.redis.max-item-size int
    	[deprecated] The maximum size of an item stored in Redis. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 16777216)
  -blocks-storage.bucket-store.index-cache.redis.min-idle-connections int
    	[deprecated] Minimum number of idle connections. (default 10)
  -blocks-storage.bucket-store.index-cache.redis.password string
    	[deprecated] Password to use when connecting to Redis.
  -blocks-storage.bucket-store.index-cache.redis.read-timeout duration
    	[deprecated] Client read timeout. (default 3s)
  -blocks-storage.bucket-store.index-cache.redis.tls-ca-path string
    	[deprecated] Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -blocks-storage.bucket-store.index-cache.redis.tls-cert-path string
    	[deprecated] Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -blocks-storage.bucket-store.index-cache.redis.tls-cipher-suites string
    	[deprecated] Override the default cipher suite list (separated by commas).
  -blocks-storage.bucket-store.index-cache.redis.tls-enabled
    	[deprecated] Enable connecting to Redis with TLS.
  -blocks-storage.bucket-store.index-cache.redis.tls-insecure-skip-verify
    	[deprecated] Skip validating server certificate.
  -blocks-storage.bucket-store.index-cache.redis.tls-key-path string
    	[deprecated] Path to the key for the client certificate. Also requires the client certificate to be configured.
  -blocks-storage.bucket-store.index-cache.redis.tls-min-version string
    	[deprecated] Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -blocks-storage.bucket-store.index-cache.redis.tls-server-name string
    	[deprecated] Override the expected name on the server certificate.
  -blocks-storage.bucket-store.index-cache.redis.username string
    	[deprecated] Username to use when connecting to Redis.
  -blocks-storage.bucket-store.index-cache.redis.write-timeout duration
    	[deprecated] Client write timeout. (default 3s)
  -blocks-storage.bucket-store.index-header.eager-loading-startup-enabled
    	[experimental] If enabled, store-gateway will periodically persist block IDs of lazy loaded index-headers and load them eagerly during startup. Ignored if index-header lazy loading is disabled. (default true)
  -blocks-storage.bucket-store.index-header.lazy-loading-concurrency int
    	Maximum number of concurrent index header loads across all tenants. If set to 0, concurrency is unlimited. (default 4)
  -blocks-storage.bucket-store.index-header.lazy-loading-concurrency-queue-timeout duration
    	Timeout for the queue of index header loads. If the queue is full and the timeout is reached, the load will return an error. 0 means no timeout and the load will wait indefinitely. (default 5s)
  -blocks-storage.bucket-store.index-header.lazy-loading-enabled
    	If enabled, store-gateway will lazy load an index-header only once required by a query. (default true)
  -blocks-storage.bucket-store.index-header.lazy-loading-idle-timeout duration
    	If index-header lazy loading is enabled and this setting is > 0, the store-gateway will offload unused index-headers after 'idle timeout' inactivity. (default 1h0m0s)
  -blocks-storage.bucket-store.index-header.max-idle-file-handles uint
    	Maximum number of idle file handles the store-gateway keeps open for each index-header file. (default 1)
  -blocks-storage.bucket-store.index-header.verify-on-load
    	If true, verify the checksum of index headers upon loading them (either on startup or lazily when lazy loading is enabled). Setting to true helps detect disk corruption at the cost of slowing down index header loading.
  -blocks-storage.bucket-store.max-concurrent int
    	Max number of concurrent queries to execute against the long-term storage. The limit is shared across all tenants. (default 200)
  -blocks-storage.bucket-store.max-concurrent-queue-timeout duration
    	Timeout for the queue of queries waiting for execution. If the queue is full and the timeout is reached, the query will be retried on another store-gateway. 0 means no timeout and all queries will wait indefinitely for their turn. (default 5s)
  -blocks-storage.bucket-store.meta-sync-concurrency int
    	Number of Go routines to use when syncing block meta files from object storage per tenant. (default 20)
  -blocks-storage.bucket-store.metadata-cache.backend string
    	Backend for metadata cache, if not empty. Supported values: memcached, redis.
  -blocks-storage.bucket-store.metadata-cache.block-index-attributes-ttl duration
    	How long to cache attributes of the block index. (default 168h0m0s)
  -blocks-storage.bucket-store.metadata-cache.bucket-index-content-ttl duration
    	How long to cache content of the bucket index. (default 5m0s)
  -blocks-storage.bucket-store.metadata-cache.bucket-index-max-size-bytes int
    	Maximum size of bucket index content to cache in bytes. Caching will be skipped if the content exceeds this size. This is useful to avoid network round trip for large content if the configured caching backend has an hard limit on cached items size (in this case, you should set this limit to the same limit in the caching backend). (default 1048576)
  -blocks-storage.bucket-store.metadata-cache.chunks-list-ttl duration
    	How long to cache list of chunks for a block. (default 24h0m0s)
  -blocks-storage.bucket-store.metadata-cache.memcached.addresses comma-separated-list-of-strings
    	Comma-separated list of memcached addresses. Each address can be an IP address, hostname, or an entry specified in the DNS Service Discovery format.
  -blocks-storage.bucket-store.metadata-cache.memcached.connect-timeout duration
    	The connection timeout. (default 200ms)
  -blocks-storage.bucket-store.metadata-cache.memcached.max-async-buffer-size int
    	The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -blocks-storage.bucket-store.metadata-cache.memcached.max-async-concurrency int
    	The maximum number of concurrent asynchronous operations can occur. (default 50)
  -blocks-storage.bucket-store.metadata-cache.memcached.max-get-multi-batch-size int
    	The maximum number of keys a single underlying get operation should run. If more keys are specified, internally keys are split into multiple batches and fetched concurrently, honoring the max concurrency. If set to 0, the max batch size is unlimited. (default 100)
  -blocks-storage.bucket-store.metadata-cache.memcached.max-get-multi-concurrency int
    	The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -blocks-storage.bucket-store.metadata-cache.memcached.max-idle-connections int
    	The maximum number of idle connections that will be maintained per address. (default 100)
  -blocks-storage.bucket-store.metadata-cache.memcached.max-item-size int
    	The maximum size of an item stored in memcached, in bytes. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 1048576)
  -blocks-storage.bucket-store.metadata-cache.memcached.min-idle-connections-headroom-percentage float
    	The minimum number of idle connections to keep open as a percentage (0-100) of the number of recently used idle connections. If negative, idle connections are kept open indefinitely. (default -1)
  -blocks-storage.bucket-store.metadata-cache.memcached.read-buffer-size-bytes int
    	[experimental] The size of the read buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -blocks-storage.bucket-store.metadata-cache.memcached.timeout duration
    	The socket read/write timeout. (default 200ms)
  -blocks-storage.bucket-store.metadata-cache.memcached.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -blocks-storage.bucket-store.metadata-cache.memcached.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -blocks-storage.bucket-store.metadata-cache.memcached.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -blocks-storage.bucket-store.metadata-cache.memcached.tls-enabled
    	Enable connecting to Memcached with TLS.
  -blocks-storage.bucket-store.metadata-cache.memcached.tls-insecure-skip-verify
    	Skip validating server certificate.
  -blocks-storage.bucket-store.metadata-cache.memcached.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -blocks-storage.bucket-store.metadata-cache.memcached.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -blocks-storage.bucket-store.metadata-cache.memcached.tls-server-name string
    	Override the expected name on the server certificate.
  -blocks-storage.bucket-store.metadata-cache.memcached.write-buffer-size-bytes int
    	[experimental] The size of the write buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -blocks-storage.bucket-store.metadata-cache.metafile-attributes-ttl duration
    	How long to cache attributes of the block metafile. (default 168h0m0s)
  -blocks-storage.bucket-store.metadata-cache.metafile-content-ttl duration
    	How long to cache content of the metafile. (default 24h0m0s)
  -blocks-storage.bucket-store.metadata-cache.metafile-doesnt-exist-ttl duration
    	How long to cache information that block metafile doesn't exist. Also used for tenant deletion mark file. (default 5m0s)
  -blocks-storage.bucket-store.metadata-cache.metafile-exists-ttl duration
    	How long to cache information that block metafile exists. Also used for tenant deletion mark file. (default 2h0m0s)
  -blocks-storage.bucket-store.metadata-cache.metafile-max-size-bytes int
    	Maximum size of metafile content to cache in bytes. Caching will be skipped if the content exceeds this size. This is useful to avoid network round trip for large content if the configured caching backend has an hard limit on cached items size (in this case, you should set this limit to the same limit in the caching backend). (default 1048576)
  -blocks-storage.bucket-store.metadata-cache.redis.connection-pool-size int
    	[deprecated] Maximum number of connections in the pool. (default 100)
  -blocks-storage.bucket-store.metadata-cache.redis.connection-pool-timeout duration
    	[deprecated] Maximum duration to wait to get a connection from pool. (default 4s)
  -blocks-storage.bucket-store.metadata-cache.redis.db int
    	[deprecated] Database index.
  -blocks-storage.bucket-store.metadata-cache.redis.dial-timeout duration
    	[deprecated] Client dial timeout. (default 5s)
  -blocks-storage.bucket-store.metadata-cache.redis.endpoint comma-separated-list-of-strings
    	[deprecated] Redis Server or Cluster configuration endpoint to use for caching. A comma-separated list of endpoints for Redis Cluster or Redis Sentinel.
  -blocks-storage.bucket-store.metadata-cache.redis.idle-timeout duration
    	[deprecated] Amount of time after which client closes idle connections. (default 5m0s)
  -blocks-storage.bucket-store.metadata-cache.redis.master-name string
    	[deprecated] Redis Sentinel master name. An empty string for Redis Server or Redis Cluster.
  -blocks-storage.bucket-store.metadata-cache.redis.max-async-buffer-size int
    	[deprecated] The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -blocks-storage.bucket-store.metadata-cache.redis.max-async-concurrency int
    	[deprecated] The maximum number of concurrent asynchronous operations can occur. (default 50)
  -blocks-storage.bucket-store.metadata-cache.redis.max-connection-age duration
    	[deprecated] Close connections older than this duration. If the value is zero, then the pool does not close connections based on age.
  -blocks-storage.bucket-store.metadata-cache.redis.max-get-multi-batch-size int
    	[deprecated] The maximum size per batch for mget operations. (default 100)
  -blocks-storage.bucket-store.metadata-cache.redis.max-get-multi-concurrency int
    	[deprecated] The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -blocks-storage.bucket-store.metadata-cache.redis.max-item-size int
    	[deprecated] The maximum size of an item stored in Redis. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 16777216)
  -blocks-storage.bucket-store.metadata-cache.redis.min-idle-connections int
    	[deprecated] Minimum number of idle connections. (default 10)
  -blocks-storage.bucket-store.metadata-cache.redis.password string
    	[deprecated] Password to use when connecting to Redis.
  -blocks-storage.bucket-store.metadata-cache.redis.read-timeout duration
    	[deprecated] Client read timeout. (default 3s)
  -blocks-storage.bucket-store.metadata-cache.redis.tls-ca-path string
    	[deprecated] Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -blocks-storage.bucket-store.metadata-cache.redis.tls-cert-path string
    	[deprecated] Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -blocks-storage.bucket-store.metadata-cache.redis.tls-cipher-suites string
    	[deprecated] Override the default cipher suite list (separated by commas).
  -blocks-storage.bucket-store.metadata-cache.redis.tls-enabled
    	[deprecated] Enable connecting to Redis with TLS.
  -blocks-storage.bucket-store.metadata-cache.redis.tls-insecure-skip-verify
    	[deprecated] Skip validating server certificate.
  -blocks-storage.bucket-store.metadata-cache.redis.tls-key-path string
    	[deprecated] Path to the key for the client certificate. Also requires the client certificate to be configured.
  -blocks-storage.bucket-store.metadata-cache.redis.tls-min-version string
    	[deprecated] Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -blocks-storage.bucket-store.metadata-cache.redis.tls-server-name string
    	[deprecated] Override the expected name on the server certificate.
  -blocks-storage.bucket-store.metadata-cache.redis.username string
    	[deprecated] Username to use when connecting to Redis.
  -blocks-storage.bucket-store.metadata-cache.redis.write-timeout duration
    	[deprecated] Client write timeout. (default 3s)
  -blocks-storage.bucket-store.metadata-cache.tenant-blocks-list-ttl duration
    	How long to cache list of blocks for each tenant. (default 5m0s)
  -blocks-storage.bucket-store.metadata-cache.tenants-list-ttl duration
    	How long to cache list of tenants in the bucket. (default 15m0s)
  -blocks-storage.bucket-store.partitioner-max-gap-bytes uint
    	Max size - in bytes - of a gap for which the partitioner aggregates together two bucket GET object requests. (default 524288)
  -blocks-storage.bucket-store.posting-offsets-in-mem-sampling int
    	Controls what is the ratio of postings offsets that the store will hold in memory. (default 32)
  -blocks-storage.bucket-store.series-fetch-preference float
    	This parameter controls the trade-off in fetching series versus fetching postings to fulfill a series request. Increasing the series preference results in fetching more series and reducing the volume of postings fetched. Reducing the series preference results in the opposite. Increase this parameter to reduce the rate of fetched series bytes (see "Mimir / Queries" dashboard) or API calls to the object store. Must be a positive floating point number. (default 0.75)
  -blocks-storage.bucket-store.series-hash-cache-max-size-bytes uint
    	Max size - in bytes - of the in-memory series hash cache. The cache is shared across all tenants and it's used only when query sharding is enabled. (default 1073741824)
  -blocks-storage.bucket-store.sync-dir string
    	Directory to store synchronized TSDB index headers. This directory is not required to be persisted between restarts, but it's highly recommended in order to improve the store-gateway startup time. (default "./tsdb-sync/")
  -blocks-storage.bucket-store.sync-interval duration
    	How frequently to scan the bucket, or to refresh the bucket index (if enabled), in order to look for changes (new blocks shipped by ingesters and blocks deleted by retention or compaction). (default 15m0s)
  -blocks-storage.bucket-store.tenant-sync-concurrency int
    	Maximum number of concurrent tenants synching blocks. (default 1)
  -blocks-storage.filesystem.dir string
    	Local filesystem storage directory. (default "blocks")
  -blocks-storage.gcs.bucket-name string
    	GCS bucket name
  -blocks-storage.gcs.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -blocks-storage.gcs.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -blocks-storage.gcs.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -blocks-storage.gcs.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -blocks-storage.gcs.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -blocks-storage.gcs.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -blocks-storage.gcs.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -blocks-storage.gcs.http.tls-server-name string
    	Override the expected name on the server certificate.
  -blocks-storage.gcs.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -blocks-storage.gcs.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -blocks-storage.gcs.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -blocks-storage.gcs.service-account string
    	JSON either from a Google Developers Console client_credentials.json file, or a Google Developers service account key. Needs to be valid JSON, not a filesystem path.
  -blocks-storage.gcs.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -blocks-storage.s3.access-key-id string
    	S3 access key ID
  -blocks-storage.s3.bucket-lookup-type value
    	Bucket lookup style type, used to access bucket in S3-compatible service. Default is auto. Supported values are: auto, path, virtual-hosted.
  -blocks-storage.s3.bucket-name string
    	S3 bucket name
  -blocks-storage.s3.dualstack-enabled
    	[experimental] When enabled, direct all AWS S3 requests to the dual-stack IPv4/IPv6 endpoint for the configured region. (default true)
  -blocks-storage.s3.endpoint string
    	The S3 bucket endpoint. It could be an AWS S3 endpoint listed at https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an S3-compatible service in hostname:port format.
  -blocks-storage.s3.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -blocks-storage.s3.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -blocks-storage.s3.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -blocks-storage.s3.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -blocks-storage.s3.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -blocks-storage.s3.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -blocks-storage.s3.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -blocks-storage.s3.http.tls-server-name string
    	Override the expected name on the server certificate.
  -blocks-storage.s3.insecure
    	If enabled, use http:// for the S3 endpoint instead of https://. This could be useful in local dev/test environments while using an S3-compatible backend storage, like Minio.
  -blocks-storage.s3.list-objects-version string
    	Use a specific version of the S3 list object API. Supported values are v1 or v2. Default is unset.
  -blocks-storage.s3.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -blocks-storage.s3.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -blocks-storage.s3.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -blocks-storage.s3.native-aws-auth-enabled
    	[experimental] If enabled, it will use the default authentication methods of the AWS SDK for go based on known environment variables and known AWS config files.
  -blocks-storage.s3.part-size uint
    	[experimental] The minimum file size in bytes used for multipart uploads. If 0, the value is optimally computed for each object.
  -blocks-storage.s3.region string
    	S3 region. If unset, the client will issue a S3 GetBucketLocation API call to autodetect it.
  -blocks-storage.s3.secret-access-key string
    	S3 secret access key
  -blocks-storage.s3.send-content-md5
    	[experimental] If enabled, a Content-MD5 header is sent with S3 Put Object requests. Consumes more resources to compute the MD5, but may improve compatibility with object storage services that do not support checksums.
  -blocks-storage.s3.session-token string
    	S3 session token
  -blocks-storage.s3.signature-version string
    	The signature version to use for authenticating against S3. Supported values are: v4, v2. (default "v4")
  -blocks-storage.s3.sse.kms-encryption-context string
    	KMS Encryption Context used for object encryption. It expects JSON formatted string.
  -blocks-storage.s3.sse.kms-key-id string
    	KMS Key ID used to encrypt objects in S3
  -blocks-storage.s3.sse.type string
    	Enable AWS Server Side Encryption. Supported values: SSE-KMS, SSE-S3.
  -blocks-storage.s3.storage-class string
    	[experimental] The S3 storage class to use, not set by default. Details can be found at https://aws.amazon.com/s3/storage-classes/. Supported values are: STANDARD, REDUCED_REDUNDANCY, GLACIER, STANDARD_IA, ONEZONE_IA, INTELLIGENT_TIERING, DEEP_ARCHIVE, OUTPOSTS, GLACIER_IR, SNOW, EXPRESS_ONEZONE
  -blocks-storage.s3.sts-endpoint string
    	Accessing S3 resources using temporary, secure credentials provided by AWS Security Token Service.
  -blocks-storage.s3.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -blocks-storage.s3.trace.enabled
    	When enabled, low-level S3 HTTP operation information is logged at the debug level.
  -blocks-storage.storage-prefix string
    	Prefix for all objects stored in the backend storage. For simplicity, it may only contain digits and English alphabet letters.
  -blocks-storage.swift.application-credential-id string
    	OpenStack Swift application credential id
  -blocks-storage.swift.application-credential-name string
    	OpenStack Swift application credential name
  -blocks-storage.swift.application-credential-secret string
    	OpenStack Swift application credential secret
  -blocks-storage.swift.auth-url string
    	OpenStack Swift authentication URL
  -blocks-storage.swift.auth-version int
    	OpenStack Swift authentication API version. 0 to autodetect.
  -blocks-storage.swift.connect-timeout duration
    	Time after which a connection attempt is aborted. (default 10s)
  -blocks-storage.swift.container-name string
    	Name of the OpenStack Swift container to put chunks in.
  -blocks-storage.swift.domain-id string
    	OpenStack Swift user's domain ID.
  -blocks-storage.swift.domain-name string
    	OpenStack Swift user's domain name.
  -blocks-storage.swift.max-retries int
    	Max retries on requests error. (default 3)
  -blocks-storage.swift.password string
    	OpenStack Swift API key.
  -blocks-storage.swift.project-domain-id string
    	ID of the OpenStack Swift project's domain (v3 auth only), only needed if it differs the from user domain.
  -blocks-storage.swift.project-domain-name string
    	Name of the OpenStack Swift project's domain (v3 auth only), only needed if it differs from the user domain.
  -blocks-storage.swift.project-id string
    	OpenStack Swift project ID (v2,v3 auth only).
  -blocks-storage.swift.project-name string
    	OpenStack Swift project name (v2,v3 auth only).
  -blocks-storage.swift.region-name string
    	OpenStack Swift Region to use (v2,v3 auth only).
  -blocks-storage.swift.request-timeout duration
    	Time after which an idle request is aborted. The timeout watchdog is reset each time some data is received, so the timeout triggers after X time no data is received on a request. (default 5s)
  -blocks-storage.swift.user-domain-id string
    	OpenStack Swift user's domain ID.
  -blocks-storage.swift.user-domain-name string
    	OpenStack Swift user's domain name.
  -blocks-storage.swift.user-id string
    	OpenStack Swift user ID.
  -blocks-storage.swift.username string
    	OpenStack Swift username.
  -blocks-storage.tsdb.bigger-out-of-order-blocks-for-old-samples
    	[experimental] When enabled, ingester produces 24h blocks for out-of-order data that is before the current day, instead of the usual 2h blocks.
  -blocks-storage.tsdb.block-postings-for-matchers-cache-force
    	[experimental] Force the cache to be used for postings for matchers in compacted blocks, even if it's not a concurrent (query-sharding) call.
  -blocks-storage.tsdb.block-postings-for-matchers-cache-max-bytes int
    	[experimental] Maximum size in bytes of the cache for postings for matchers in each compacted block when TTL is greater than 0. (default 104857600)
  -blocks-storage.tsdb.block-postings-for-matchers-cache-size int
    	[deprecated] Maximum number of entries in the cache for postings for matchers in each compacted block when TTL is greater than 0. (default 100)
  -blocks-storage.tsdb.block-postings-for-matchers-cache-ttl duration
    	[experimental] How long to cache postings for matchers in each compacted block queried from the ingester. 0 disables the cache and just deduplicates the in-flight calls. (default 10s)
  -blocks-storage.tsdb.close-idle-tsdb-timeout duration
    	If TSDB has not received any data for this duration, and all blocks from TSDB have been shipped, TSDB is closed and deleted from local disk. If set to positive value, this value should be equal or higher than -querier.query-ingesters-within flag to make sure that TSDB is not closed prematurely, which could cause partial query results. 0 or negative value disables closing of idle TSDB. (default 13h0m0s)
  -blocks-storage.tsdb.dir string
    	Directory to store TSDBs (including WAL) in the ingesters. This directory is required to be persisted between restarts. (default "./tsdb/")
  -blocks-storage.tsdb.early-head-compaction-min-estimated-series-reduction-percentage int
    	[experimental] When the early compaction is enabled, the early compaction is triggered only if the estimated series reduction is at least the configured percentage (0-100). (default 15)
  -blocks-storage.tsdb.early-head-compaction-min-in-memory-series int
    	[experimental] When the number of in-memory series in the ingester is equal to or greater than this setting, the ingester tries to compact the TSDB Head. The early compaction removes from the memory all samples and inactive series up until -ingester.active-series-metrics-idle-timeout time ago. After an early compaction, the ingester will not accept any sample with a timestamp older than -ingester.active-series-metrics-idle-timeout time ago (unless out of order ingestion is enabled). The ingester checks every -blocks-storage.tsdb.head-compaction-interval whether an early compaction is required. Use 0 to disable it.
  -blocks-storage.tsdb.flush-blocks-on-shutdown
    	True to flush blocks to storage on shutdown. If false, incomplete blocks will be reused after restart.
  -blocks-storage.tsdb.head-chunks-end-time-variance float
    	[experimental] How much variance (as percentage between 0 and 1) should be applied to the chunk end time, to spread chunks writing across time. Doesn't apply to the last chunk of the chunk range. 0 means no variance.
  -blocks-storage.tsdb.head-chunks-write-buffer-size-bytes int
    	The write buffer size used by the head chunks mapper. Lower values reduce memory utilisation on clusters with a large number of tenants at the cost of increased disk I/O operations. The configured buffer size must be between 65536 and 8388608. (default 4194304)
  -blocks-storage.tsdb.head-chunks-write-queue-size int
    	The size of the write queue used by the head chunks mapper. Lower values reduce memory utilisation at the cost of potentially higher ingest latency. Value of 0 switches chunks mapper to implementation without a queue. (default 1000000)
  -blocks-storage.tsdb.head-compaction-concurrency int
    	Maximum number of tenants concurrently compacting TSDB head into a new block (default 1)
  -blocks-storage.tsdb.head-compaction-idle-timeout duration
    	If TSDB head is idle for this duration, it is compacted. Note that up to 25% jitter is added to the value to avoid ingesters compacting concurrently. 0 means disabled. (default 1h0m0s)
  -blocks-storage.tsdb.head-compaction-interval duration
    	How frequently the ingester checks whether the TSDB head should be compacted and, if so, triggers the compaction. Mimir applies a jitter to the first check, and subsequent checks will happen at the configured interval. A block is only created if data covers the smallest block range. The configured interval must be between 0 and 15 minutes. (default 1m0s)
  -blocks-storage.tsdb.head-postings-for-matchers-cache-force
    	[experimental] Force the cache to be used for postings for matchers in the Head and OOOHead, even if it's not a concurrent (query-sharding) call.
  -blocks-storage.tsdb.head-postings-for-matchers-cache-max-bytes int
    	[experimental] Maximum size in bytes of the cache for postings for matchers in the Head and OOOHead when TTL is greater than 0. (default 104857600)
  -blocks-storage.tsdb.head-postings-for-matchers-cache-size int
    	[deprecated] Maximum number of entries in the cache for postings for matchers in the Head and OOOHead when TTL is greater than 0. (default 100)
  -blocks-storage.tsdb.head-postings-for-matchers-cache-ttl duration
    	[experimental] How long to cache postings for matchers in the Head and OOOHead. 0 disables the cache and just deduplicates the in-flight calls. (default 10s)
  -blocks-storage.tsdb.memory-snapshot-on-shutdown
    	[experimental] True to enable snapshotting of in-memory TSDB data on disk when shutting down.
  -blocks-storage.tsdb.out-of-order-capacity-max int
    	[experimental] Maximum capacity for out of order chunks, in samples between 1 and 255. (default 32)
  -blocks-storage.tsdb.retention-period duration
    	TSDB blocks retention in the ingester before a block is removed. If shipping is enabled, the retention will be relative to the time when the block was uploaded to storage. If shipping is disabled then its relative to the creation time of the block. This should be larger than the -blocks-storage.tsdb.block-ranges-period, -querier.query-store-after and large enough to give store-gateways and queriers enough time to discover newly uploaded blocks. (default 13h0m0s)
  -blocks-storage.tsdb.series-hash-cache-max-size-bytes uint
    	Max size - in bytes - of the in-memory series hash cache. The cache is shared across all tenants and it's used only when query sharding is enabled. (default 367001600)
  -blocks-storage.tsdb.ship-concurrency int
    	Maximum number of tenants concurrently shipping blocks to the storage. (default 10)
  -blocks-storage.tsdb.ship-interval duration
    	How frequently the TSDB blocks are scanned and new ones are shipped to the storage. 0 means shipping is disabled. (default 1m0s)
  -blocks-storage.tsdb.stripe-size int
    	The number of shards of series to use in TSDB (must be a power of 2). Reducing this will decrease memory footprint, but can negatively impact performance. (default 16384)
  -blocks-storage.tsdb.timely-head-compaction-enabled
    	[experimental] Allows head compaction to happen when the min block range can no longer be appended, without requiring 1.5x the chunk range worth of data in the head.
  -blocks-storage.tsdb.wal-compression-enabled
    	True to enable TSDB WAL compression.
  -blocks-storage.tsdb.wal-replay-concurrency int
    	Maximum number of CPUs that can simultaneously processes WAL replay. If it is set to 0, then each TSDB is replayed with a concurrency equal to the number of CPU cores available on the machine.
  -blocks-storage.tsdb.wal-segment-size-bytes int
    	TSDB WAL segments files max size (bytes). (default 134217728)
  -common.storage.azure.account-key string
    	Azure storage account key. If unset, Azure managed identities will be used for authentication instead.
  -common.storage.azure.account-name string
    	Azure storage account name
  -common.storage.azure.connection-string string
    	If `connection-string` is set, the value of `endpoint-suffix` will not be used. Use this method over `account-key` if you need to authenticate via a SAS token. Or if you use the Azurite emulator.
  -common.storage.azure.container-name string
    	Azure storage container name
  -common.storage.azure.endpoint-suffix string
    	Azure storage endpoint suffix without schema. The account name will be prefixed to this value to create the FQDN. If set to empty string, default endpoint suffix is used.
  -common.storage.azure.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -common.storage.azure.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -common.storage.azure.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -common.storage.azure.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -common.storage.azure.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -common.storage.azure.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -common.storage.azure.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -common.storage.azure.http.tls-server-name string
    	Override the expected name on the server certificate.
  -common.storage.azure.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -common.storage.azure.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -common.storage.azure.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -common.storage.azure.max-retries int
    	Number of retries for recoverable errors (default 20)
  -common.storage.azure.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -common.storage.azure.user-assigned-id string
    	User assigned managed identity. If empty, then System assigned identity is used.
  -common.storage.backend string
    	Backend storage to use. Supported backends are: s3, gcs, azure, swift, filesystem. (default "filesystem")
  -common.storage.filesystem.dir string
    	Local filesystem storage directory.
  -common.storage.gcs.bucket-name string
    	GCS bucket name
  -common.storage.gcs.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -common.storage.gcs.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -common.storage.gcs.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -common.storage.gcs.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -common.storage.gcs.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -common.storage.gcs.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -common.storage.gcs.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -common.storage.gcs.http.tls-server-name string
    	Override the expected name on the server certificate.
  -common.storage.gcs.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -common.storage.gcs.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -common.storage.gcs.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -common.storage.gcs.service-account string
    	JSON either from a Google Developers Console client_credentials.json file, or a Google Developers service account key. Needs to be valid JSON, not a filesystem path.
  -common.storage.gcs.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -common.storage.s3.access-key-id string
    	S3 access key ID
  -common.storage.s3.bucket-lookup-type value
    	Bucket lookup style type, used to access bucket in S3-compatible service. Default is auto. Supported values are: auto, path, virtual-hosted.
  -common.storage.s3.bucket-name string
    	S3 bucket name
  -common.storage.s3.dualstack-enabled
    	[experimental] When enabled, direct all AWS S3 requests to the dual-stack IPv4/IPv6 endpoint for the configured region. (default true)
  -common.storage.s3.endpoint string
    	The S3 bucket endpoint. It could be an AWS S3 endpoint listed at https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an S3-compatible service in hostname:port format.
  -common.storage.s3.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -common.storage.s3.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -common.storage.s3.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -common.storage.s3.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -common.storage.s3.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -common.storage.s3.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -common.storage.s3.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -common.storage.s3.http.tls-server-name string
    	Override the expected name on the server certificate.
  -common.storage.s3.insecure
    	If enabled, use http:// for the S3 endpoint instead of https://. This could be useful in local dev/test environments while using an S3-compatible backend storage, like Minio.
  -common.storage.s3.list-objects-version string
    	Use a specific version of the S3 list object API. Supported values are v1 or v2. Default is unset.
  -common.storage.s3.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -common.storage.s3.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -common.storage.s3.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -common.storage.s3.native-aws-auth-enabled
    	[experimental] If enabled, it will use the default authentication methods of the AWS SDK for go based on known environment variables and known AWS config files.
  -common.storage.s3.part-size uint
    	[experimental] The minimum file size in bytes used for multipart uploads. If 0, the value is optimally computed for each object.
  -common.storage.s3.region string
    	S3 region. If unset, the client will issue a S3 GetBucketLocation API call to autodetect it.
  -common.storage.s3.secret-access-key string
    	S3 secret access key
  -common.storage.s3.send-content-md5
    	[experimental] If enabled, a Content-MD5 header is sent with S3 Put Object requests. Consumes more resources to compute the MD5, but may improve compatibility with object storage services that do not support checksums.
  -common.storage.s3.session-token string
    	S3 session token
  -common.storage.s3.signature-version string
    	The signature version to use for authenticating against S3. Supported values are: v4, v2. (default "v4")
  -common.storage.s3.sse.kms-encryption-context string
    	KMS Encryption Context used for object encryption. It expects JSON formatted string.
  -common.storage.s3.sse.kms-key-id string
    	KMS Key ID used to encrypt objects in S3
  -common.storage.s3.sse.type string
    	Enable AWS Server Side Encryption. Supported values: SSE-KMS, SSE-S3.
  -common.storage.s3.storage-class string
    	[experimental] The S3 storage class to use, not set by default. Details can be found at https://aws.amazon.com/s3/storage-classes/. Supported values are: STANDARD, REDUCED_REDUNDANCY, GLACIER, STANDARD_IA, ONEZONE_IA, INTELLIGENT_TIERING, DEEP_ARCHIVE, OUTPOSTS, GLACIER_IR, SNOW, EXPRESS_ONEZONE
  -common.storage.s3.sts-endpoint string
    	Accessing S3 resources using temporary, secure credentials provided by AWS Security Token Service.
  -common.storage.s3.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -common.storage.s3.trace.enabled
    	When enabled, low-level S3 HTTP operation information is logged at the debug level.
  -common.storage.swift.application-credential-id string
    	OpenStack Swift application credential id
  -common.storage.swift.application-credential-name string
    	OpenStack Swift application credential name
  -common.storage.swift.application-credential-secret string
    	OpenStack Swift application credential secret
  -common.storage.swift.auth-url string
    	OpenStack Swift authentication URL
  -common.storage.swift.auth-version int
    	OpenStack Swift authentication API version. 0 to autodetect.
  -common.storage.swift.connect-timeout duration
    	Time after which a connection attempt is aborted. (default 10s)
  -common.storage.swift.container-name string
    	Name of the OpenStack Swift container to put chunks in.
  -common.storage.swift.domain-id string
    	OpenStack Swift user's domain ID.
  -common.storage.swift.domain-name string
    	OpenStack Swift user's domain name.
  -common.storage.swift.max-retries int
    	Max retries on requests error. (default 3)
  -common.storage.swift.password string
    	OpenStack Swift API key.
  -common.storage.swift.project-domain-id string
    	ID of the OpenStack Swift project's domain (v3 auth only), only needed if it differs the from user domain.
  -common.storage.swift.project-domain-name string
    	Name of the OpenStack Swift project's domain (v3 auth only), only needed if it differs from the user domain.
  -common.storage.swift.project-id string
    	OpenStack Swift project ID (v2,v3 auth only).
  -common.storage.swift.project-name string
    	OpenStack Swift project name (v2,v3 auth only).
  -common.storage.swift.region-name string
    	OpenStack Swift Region to use (v2,v3 auth only).
  -common.storage.swift.request-timeout duration
    	Time after which an idle request is aborted. The timeout watchdog is reset each time some data is received, so the timeout triggers after X time no data is received on a request. (default 5s)
  -common.storage.swift.user-domain-id string
    	OpenStack Swift user's domain ID.
  -common.storage.swift.user-domain-name string
    	OpenStack Swift user's domain name.
  -common.storage.swift.user-id string
    	OpenStack Swift user ID.
  -common.storage.swift.username string
    	OpenStack Swift username.
  -compactor.block-ranges comma-separated-list-of-durations
    	List of compaction time ranges. (default 2h0m0s,12h0m0s,24h0m0s)
  -compactor.block-sync-concurrency int
    	Number of Go routines to use when downloading blocks for compaction and uploading resulting blocks. (default 8)
  -compactor.block-upload-enabled
    	Enable block upload API for the tenant.
  -compactor.block-upload-max-block-size-bytes int
    	Maximum size in bytes of a block that is allowed to be uploaded or validated. 0 = no limit.
  -compactor.block-upload-validation-enabled
    	Enable block upload validation for the tenant. (default true)
  -compactor.block-upload-verify-chunks
    	Verify chunks when uploading blocks via the upload API for the tenant. (default true)
  -compactor.blocks-retention-period duration
    	Delete blocks containing samples older than the specified retention period. Also used by query-frontend to avoid querying beyond the retention period by instant, range or remote read queries. 0 to disable.
  -compactor.cleanup-concurrency int
    	Max number of tenants for which blocks cleanup and maintenance should run concurrently. (default 20)
  -compactor.cleanup-interval duration
    	How frequently the compactor should run blocks cleanup and maintenance, as well as update the bucket index. (default 15m0s)
  -compactor.compaction-concurrency int
    	Max number of concurrent compactions running. (default 1)
  -compactor.compaction-interval duration
    	The frequency at which the compaction runs (default 1h0m0s)
  -compactor.compaction-jobs-order string
    	The sorting to use when deciding which compaction jobs should run first for a given tenant. Supported values are: smallest-range-oldest-blocks-first, newest-blocks-first. (default "smallest-range-oldest-blocks-first")
  -compactor.compaction-retries int
    	How many times to retry a failed compaction within a single compaction run. (default 3)
  -compactor.compactor-tenant-shard-size int
    	Max number of compactors that can compact blocks for single tenant. 0 to disable the limit and use all compactors.
  -compactor.data-dir string
    	Directory to temporarily store blocks during compaction. This directory is not required to be persisted between restarts. (default "./data-compactor/")
  -compactor.deletion-delay duration
    	Time before a block marked for deletion is deleted from bucket. If not 0, blocks will be marked for deletion and the compactor component will permanently delete blocks marked for deletion from the bucket. If 0, blocks will be deleted straight away. Note that deleting blocks immediately can cause query failures. (default 12h0m0s)
  -compactor.disabled-tenants comma-separated-list-of-strings
    	Comma separated list of tenants that cannot be compacted by the compactor. If specified, and the compactor would normally pick a given tenant for compaction (via -compactor.enabled-tenants or sharding), it will be ignored instead.
  -compactor.enabled-tenants comma-separated-list-of-strings
    	Comma separated list of tenants that can be compacted. If specified, only these tenants will be compacted by the compactor, otherwise all tenants can be compacted. Subject to sharding.
  -compactor.first-level-compaction-wait-period duration
    	How long the compactor waits before compacting first-level blocks that are uploaded by the ingesters. This configuration option allows for the reduction of cases where the compactor begins to compact blocks before all ingesters have uploaded their blocks to the storage. (default 25m0s)
  -compactor.max-block-upload-validation-concurrency int
    	Max number of uploaded blocks that can be validated concurrently. 0 = no limit. (default 1)
  -compactor.max-closing-blocks-concurrency int
    	Max number of blocks that can be closed concurrently during split compaction. Note that closing a newly compacted block uses a lot of memory for writing the index. (default 1)
  -compactor.max-compaction-time duration
    	Max time for starting compactions for a single tenant. After this time no new compactions for the tenant are started before next compaction cycle. This can help in multi-tenant environments to avoid single tenant using all compaction time, but also in single-tenant environments to force new discovery of blocks more often. 0 = disabled. (default 1h0m0s)
  -compactor.max-opening-blocks-concurrency int
    	Number of goroutines opening blocks before compaction. (default 1)
  -compactor.meta-sync-concurrency int
    	Number of Go routines to use when syncing block meta files from the long term storage. (default 20)
  -compactor.no-blocks-file-cleanup-enabled
    	[experimental] If enabled, will delete the bucket-index, markers and debug files in the tenant bucket when there are no blocks left in the index.
  -compactor.partial-block-deletion-delay duration
    	If a partial block (unfinished block without meta.json file) hasn't been modified for this time, it will be marked for deletion. The minimum accepted value is 4h0m0s: a lower value will be ignored and the feature disabled. 0 to disable. (default 1d)
  -compactor.ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -compactor.ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -compactor.ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -compactor.ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -compactor.ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -compactor.ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -compactor.ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -compactor.ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -compactor.ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -compactor.ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -compactor.ring.etcd.password string
    	Etcd password.
  -compactor.ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -compactor.ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -compactor.ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -compactor.ring.etcd.tls-enabled
    	Enable TLS.
  -compactor.ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -compactor.ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -compactor.ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -compactor.ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -compactor.ring.etcd.username string
    	Etcd username.
  -compactor.ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -compactor.ring.heartbeat-timeout duration
    	The heartbeat timeout after which compactors are considered unhealthy within the ring. 0 = never (timeout disabled). (default 1m0s)
  -compactor.ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -compactor.ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -compactor.ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -compactor.ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -compactor.ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -compactor.ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -compactor.ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -compactor.ring.multi.primary string
    	Primary backend storage used by multi-client.
  -compactor.ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -compactor.ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -compactor.ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -compactor.ring.wait-active-instance-timeout duration
    	Timeout for waiting on compactor to become ACTIVE in the ring. (default 10m0s)
  -compactor.ring.wait-stability-max-duration duration
    	Maximum time to wait for ring stability at startup. If the compactor ring keeps changing after this period of time, the compactor will start anyway. (default 5m0s)
  -compactor.ring.wait-stability-min-duration duration
    	Minimum time to wait for ring stability at startup. 0 to disable.
  -compactor.split-and-merge-shards int
    	The number of shards to use when splitting blocks. 0 to disable splitting.
  -compactor.split-groups int
    	Number of groups that blocks for splitting should be grouped into. Each group of blocks is then split separately. Number of output split shards is controlled by -compactor.split-and-merge-shards. (default 1)
  -compactor.symbols-flushers-concurrency int
    	Number of symbols flushers used when doing split compaction. (default 1)
  -compactor.tenant-cleanup-delay duration
    	For tenants marked for deletion, this is the time between deletion of the last block, and doing final cleanup (marker files, debug files) of the tenant. (default 6h0m0s)
  -config.expand-env
    	Expands ${var} or $var in config according to the values of the environment variables.
  -config.file value
    	Configuration file to load.
  -debug.block-profile-rate int
    	Fraction of goroutine blocking events that are reported in the blocking profile. 1 to include every blocking event in the profile, 0 to disable.
  -debug.mutex-profile-fraction int
    	Fraction of mutex contention events that are reported in the mutex profile. On average 1/rate events are reported. 0 to disable.
  -distributor.client-cleanup-period duration
    	How frequently to clean up clients for ingesters that have gone away. (default 15s)
  -distributor.drop-label string
    	This flag can be used to specify label names that to drop during sample ingestion within the distributor and can be repeated in order to drop multiple labels.
  -distributor.ha-tracker.cluster string
    	Prometheus label to look for in samples to identify a Prometheus HA cluster. (default "cluster")
  -distributor.ha-tracker.consul.acl-token string
    	ACL Token used to interact with Consul.
  -distributor.ha-tracker.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -distributor.ha-tracker.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -distributor.ha-tracker.consul.consistent-reads
    	Enable consistent reads to Consul.
  -distributor.ha-tracker.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -distributor.ha-tracker.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -distributor.ha-tracker.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -distributor.ha-tracker.enable
    	Enable the distributors HA tracker so that it can accept samples from Prometheus HA replicas gracefully (requires labels).
  -distributor.ha-tracker.enable-for-all-users
    	Flag to enable, for all tenants, handling of samples with external labels identifying replicas in an HA Prometheus setup.
  -distributor.ha-tracker.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -distributor.ha-tracker.etcd.endpoints string
    	The etcd endpoints to connect to.
  -distributor.ha-tracker.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -distributor.ha-tracker.etcd.password string
    	Etcd password.
  -distributor.ha-tracker.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -distributor.ha-tracker.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -distributor.ha-tracker.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -distributor.ha-tracker.etcd.tls-enabled
    	Enable TLS.
  -distributor.ha-tracker.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -distributor.ha-tracker.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -distributor.ha-tracker.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -distributor.ha-tracker.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -distributor.ha-tracker.etcd.username string
    	Etcd username.
  -distributor.ha-tracker.failover-timeout duration
    	If we don't receive any samples from the accepted replica for a cluster in this amount of time we will failover to the next replica we receive a sample from. This value must be greater than the update timeout (default 30s)
  -distributor.ha-tracker.max-clusters int
    	Maximum number of clusters that HA tracker will keep track of for a single tenant. 0 to disable the limit. (default 100)
  -distributor.ha-tracker.multi.mirror-enabled
    	Mirror writes to secondary store.
  -distributor.ha-tracker.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -distributor.ha-tracker.multi.primary string
    	Primary backend storage used by multi-client.
  -distributor.ha-tracker.multi.secondary string
    	Secondary backend storage used by multi-client.
  -distributor.ha-tracker.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "ha-tracker/")
  -distributor.ha-tracker.replica string
    	Prometheus label to look for in samples to identify a Prometheus HA replica. (default "__replica__")
  -distributor.ha-tracker.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "consul")
  -distributor.ha-tracker.update-timeout duration
    	Update the timestamp in the KV store for a given cluster/replica only after this amount of time has passed since the current stored timestamp. (default 15s)
  -distributor.ha-tracker.update-timeout-jitter-max duration
    	Maximum jitter applied to the update timeout, in order to spread the HA heartbeats over time. (default 5s)
  -distributor.health-check-ingesters
    	Run a health check on each ingester client during periodic cleanup. (default true)
  -distributor.ingestion-burst-factor float
    	[experimental] Per-tenant burst factor which is the maximum burst size allowed as a multiple of the per-tenant ingestion rate, this burst-factor must be greater than or equal to 1. If this is set it will override the ingestion-burst-size option.
  -distributor.ingestion-burst-size int
    	Per-tenant allowed ingestion burst size (in number of samples). (default 200000)
  -distributor.ingestion-rate-limit float
    	Per-tenant ingestion rate limit in samples per second. (default 10000)
  -distributor.ingestion-tenant-shard-size int
    	The tenant's shard size used by shuffle-sharding. This value is the total size of the shard (ie. it is not the number of ingesters in the shard per zone, but the number of ingesters in the shard across all zones, if zone-awareness is enabled). Must be set both on ingesters and distributors. 0 disables shuffle sharding.
  -distributor.instance-limits.max-inflight-push-requests int
    	Max inflight push requests that this distributor can handle. This limit is per-distributor, not per-tenant. Additional requests will be rejected. 0 = unlimited. (default 2000)
  -distributor.instance-limits.max-inflight-push-requests-bytes int
    	The sum of the request sizes in bytes of inflight push requests that this distributor can handle. This limit is per-distributor, not per-tenant. Additional requests will be rejected. 0 = unlimited.
  -distributor.instance-limits.max-ingestion-rate float
    	Max ingestion rate (samples/sec) that this distributor will accept. This limit is per-distributor, not per-tenant. Additional push requests will be rejected. Current ingestion rate is computed as exponentially weighted moving average, updated every second. 0 = unlimited.
  -distributor.max-exemplars-per-series-per-request int
    	[experimental] Maximum number of exemplars per series per request. 0 to disable limit in request. The exceeding exemplars are dropped.
  -distributor.max-otlp-request-size int
    	[experimental] Maximum OTLP request size in bytes that the distributors accept. Requests exceeding this limit are rejected. (default 104857600)
  -distributor.max-recv-msg-size int
    	Max message size in bytes that the distributors will accept for incoming push requests to the remote write API. If exceeded, the request will be rejected. (default 104857600)
  -distributor.max-request-pool-buffer-size int
    	[experimental] Max size of the pooled buffers used for marshaling write requests. If 0, no max size is enforced.
  -distributor.metric-relabeling-enabled
    	[experimental] Enable metric relabeling for the tenant. This configuration option can be used to forcefully disable metric relabeling on a per-tenant basis. (default true)
  -distributor.otel-created-timestamp-zero-ingestion-enabled
    	[experimental] Whether to enable translation of OTel start timestamps to Prometheus zero samples in the OTLP endpoint.
  -distributor.otel-metric-suffixes-enabled
    	Whether to enable automatic suffixes to names of metrics ingested through OTLP.
  -distributor.otel-promote-resource-attributes comma-separated-list-of-strings
    	[experimental] Optionally specify OTel resource attributes to promote to labels.
  -distributor.remote-timeout duration
    	Timeout for downstream ingesters. (default 2s)
  -distributor.request-burst-size int
    	Per-tenant allowed push request burst size. 0 to disable.
  -distributor.request-rate-limit float
    	Per-tenant push request rate limit in requests per second. 0 to disable.
  -distributor.retry-after-header.enabled
    	Enables inclusion of the Retry-After header in the response: true includes it for client retry guidance, false omits it. (default true)
  -distributor.retry-after-header.max-backoff duration
    	Minimum duration of the Retry-After HTTP header in responses to 429/5xx errors. Must be greater than or equal to 1s. Backoff is calculated as MinBackoff*2^(RetryAttempt-1) seconds with random jitter of 50% in either direction. RetryAttempt is the value of the Retry-Attempt HTTP header. (default 1m36s)
  -distributor.retry-after-header.min-backoff duration
    	Minimum duration of the Retry-After HTTP header in responses to 429/5xx errors. Must be greater than or equal to 1s. Backoff is calculated as MinBackoff*2^(RetryAttempt-1) seconds with random jitter of 50% in either direction. RetryAttempt is the value of the Retry-Attempt HTTP header. (default 6s)
  -distributor.reusable-ingester-push-workers int
    	Number of pre-allocated workers used to forward push requests to the ingesters. If 0, no workers will be used and a new goroutine will be spawned for each ingester push request. If not enough workers available, new goroutine will be spawned. (Note: this is a performance optimization, not a limiting feature.) (default 2000)
  -distributor.ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -distributor.ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -distributor.ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -distributor.ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -distributor.ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -distributor.ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -distributor.ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -distributor.ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -distributor.ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -distributor.ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -distributor.ring.etcd.password string
    	Etcd password.
  -distributor.ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -distributor.ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -distributor.ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -distributor.ring.etcd.tls-enabled
    	Enable TLS.
  -distributor.ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -distributor.ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -distributor.ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -distributor.ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -distributor.ring.etcd.username string
    	Etcd username.
  -distributor.ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -distributor.ring.heartbeat-timeout duration
    	The heartbeat timeout after which distributors are considered unhealthy within the ring. 0 = never (timeout disabled). (default 1m0s)
  -distributor.ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -distributor.ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -distributor.ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -distributor.ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -distributor.ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -distributor.ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -distributor.ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -distributor.ring.multi.primary string
    	Primary backend storage used by multi-client.
  -distributor.ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -distributor.ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -distributor.ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -distributor.service-overload-status-code-on-rate-limit-enabled
    	[experimental] If enabled, rate limit errors will be reported to the client with HTTP status code 529 (Service is overloaded). If disabled, status code 429 (Too Many Requests) is used. Enabling -distributor.retry-after-header.enabled before utilizing this option is strongly recommended as it helps prevent premature request retries by the client.
  -distributor.usage-tracker-client.prefer-availability-zone string
    	Preferred availability zone to query usage-trackers.
  -distributor.usage-tracker-client.requests-hedging-delay duration
    	Delay before initiating requests to further usage-trackers (e.g. in other zones). (default 100ms)
  -distributor.usage-tracker-client.reusable-workers int
    	Number of pre-allocated workers used to send requests to usage-trackers. If 0, no workers pool will be used and a new goroutine will be spawned for each request. (default 500)
  -distributor.usage-tracker-client.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -distributor.usage-tracker-client.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -distributor.usage-tracker-client.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -distributor.usage-tracker-client.tls-enabled
    	Enable TLS for gRPC client connecting to usage-tracker.
  -distributor.usage-tracker-client.tls-insecure-skip-verify
    	Skip validating server certificate.
  -distributor.usage-tracker-client.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -distributor.usage-tracker-client.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -distributor.usage-tracker-client.tls-server-name string
    	Override the expected name on the server certificate.
  -distributor.write-requests-buffer-pooling-enabled
    	[experimental] Enable pooling of buffers used for marshaling write requests. (default true)
  -enable-go-runtime-metrics
    	Set to true to enable all Go runtime metrics, such as go_sched_* and go_memstats_*.
  -flusher.exit-after-flush
    	Stop after flush has finished. If false, process will keep running, doing nothing. (default true)
  -h
    	Print basic help.
  -help
    	Print basic help.
  -help-all
    	Print help, also including advanced and experimental parameters.
  -http.alertmanager-http-prefix string
    	HTTP URL path under which the Alertmanager ui and api will be served. (default "/alertmanager")
  -http.prometheus-http-prefix string
    	HTTP URL path under which the Prometheus api will be served. (default "/prometheus")
  -ingest-storage.enabled
    	True to enable the ingestion via object storage.
  -ingest-storage.ingestion-partition-tenant-shard-size int
    	[experimental] The number of partitions a tenant's data should be sharded to when using the ingest storage. Tenants are sharded across partitions using shuffle-sharding. 0 disables shuffle sharding and tenant is sharded across all partitions.
  -ingest-storage.kafka.address string
    	The Kafka backend address.
  -ingest-storage.kafka.auto-create-topic-default-partitions int
    	When auto-creation of Kafka topic is enabled and this value is positive, Kafka's num.partitions configuration option is set on Kafka brokers with this value when Mimir component that uses Kafka starts. This configuration option specifies the default number of partitions that the Kafka broker uses for auto-created topics. Note that this is a Kafka-cluster wide setting, and applies to any auto-created topic. If the setting of num.partitions fails, Mimir proceeds anyways, but auto-created topics could have an incorrect number of partitions.
  -ingest-storage.kafka.auto-create-topic-enabled
    	Enable auto-creation of Kafka topic if it doesn't exist. (default true)
  -ingest-storage.kafka.client-id string
    	The Kafka client ID.
  -ingest-storage.kafka.consume-from-position-at-startup string
    	From which position to start consuming the partition at startup. Supported options: last-offset, start, end, timestamp. (default "last-offset")
  -ingest-storage.kafka.consume-from-timestamp-at-startup int
    	Milliseconds timestamp after which the consumption of the partition starts at startup. Only applies when consume-from-position-at-startup is timestamp
  -ingest-storage.kafka.consumer-group string
    	The consumer group used by the consumer to track the last consumed offset. The consumer group must be different for each ingester. If the configured consumer group contains the '<partition>' placeholder, it is replaced with the actual partition ID owned by the ingester. When empty (recommended), Mimir uses the ingester instance ID to guarantee uniqueness.
  -ingest-storage.kafka.consumer-group-offset-commit-interval duration
    	How frequently a consumer should commit the consumed offset to Kafka. The last committed offset is used at startup to continue the consumption from where it was left. (default 1s)
  -ingest-storage.kafka.dial-timeout duration
    	The maximum time allowed to open a connection to a Kafka broker. (default 2s)
  -ingest-storage.kafka.ingestion-concurrency-batch-size int
    	The number of timeseries to batch together before ingesting to the TSDB head. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 150)
  -ingest-storage.kafka.ingestion-concurrency-estimated-bytes-per-sample int
    	The estimated number of bytes a sample has at time of ingestion. This value is used to estimate the timeseries without decompressing them. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 500)
  -ingest-storage.kafka.ingestion-concurrency-max int
    	The maximum number of concurrent ingestion streams to the TSDB head. Every tenant has their own set of streams. 0 to disable.
  -ingest-storage.kafka.ingestion-concurrency-queue-capacity int
    	The number of batches to prepare and queue to ingest to the TSDB head. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 5)
  -ingest-storage.kafka.ingestion-concurrency-target-flushes-per-shard int
    	The expected number of times to ingest timeseries to the TSDB head after batching. With fewer flushes, the overhead of splitting up the work is higher than the benefit of parallelization. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 80)
  -ingest-storage.kafka.last-produced-offset-poll-interval duration
    	How frequently to poll the last produced offset, used to enforce strong read consistency. (default 1s)
  -ingest-storage.kafka.last-produced-offset-retry-timeout duration
    	How long to retry a failed request to get the last produced offset. (default 10s)
  -ingest-storage.kafka.max-buffered-bytes int
    	The maximum number of buffered records ready to be processed. This limit applies to the sum of all inflight requests. Set to 0 to disable the limit. (default 100000000)
  -ingest-storage.kafka.max-consumer-lag-at-startup duration
    	The guaranteed maximum lag before a consumer is considered to have caught up reading from a partition at startup, becomes ACTIVE in the hash ring and passes the readiness check. Set both -ingest-storage.kafka.target-consumer-lag-at-startup and -ingest-storage.kafka.max-consumer-lag-at-startup to 0 to disable waiting for maximum consumer lag being honored at startup. (default 15s)
  -ingest-storage.kafka.ongoing-fetch-concurrency int
    	The number of concurrent fetch requests that the ingester makes when reading data continuously from Kafka after startup. Is disabled unless ingest-storage.kafka.startup-fetch-concurrency is greater than 0. 0 to disable.
  -ingest-storage.kafka.producer-max-buffered-bytes int
    	The maximum size of (uncompressed) buffered and unacknowledged produced records sent to Kafka. The produce request fails once this limit is reached. This limit is per Kafka client. 0 to disable the limit. (default 1073741824)
  -ingest-storage.kafka.producer-max-record-size-bytes int
    	The maximum size of a Kafka record data that should be generated by the producer. An incoming write request larger than this size is split into multiple Kafka records. We strongly recommend to not change this setting unless for testing purposes. (default 15983616)
  -ingest-storage.kafka.sasl-password string
    	The password used to authenticate to Kafka using the SASL plain mechanism. To enable SASL, configure both the username and password.
  -ingest-storage.kafka.sasl-username string
    	The username used to authenticate to Kafka using the SASL plain mechanism. To enable SASL, configure both the username and password.
  -ingest-storage.kafka.startup-fetch-concurrency int
    	The number of concurrent fetch requests that the ingester makes when reading data from Kafka during startup. 0 to disable.
  -ingest-storage.kafka.target-consumer-lag-at-startup duration
    	The best-effort maximum lag a consumer tries to achieve at startup. Set both -ingest-storage.kafka.target-consumer-lag-at-startup and -ingest-storage.kafka.max-consumer-lag-at-startup to 0 to disable waiting for maximum consumer lag being honored at startup. (default 2s)
  -ingest-storage.kafka.topic string
    	The Kafka topic name.
  -ingest-storage.kafka.use-compressed-bytes-as-fetch-max-bytes
    	When enabled, the fetch request MaxBytes field is computed using the compressed size of previous records. When disabled, MaxBytes is computed using uncompressed bytes. Different Kafka implementations interpret MaxBytes differently. (default true)
  -ingest-storage.kafka.wait-strong-read-consistency-timeout duration
    	The maximum allowed for a read requests processed by an ingester to wait until strong read consistency is enforced. 0 to disable the timeout. (default 20s)
  -ingest-storage.kafka.write-clients int
    	The number of Kafka clients used by producers. When the configured number of clients is greater than 1, partitions are sharded among Kafka clients. A higher number of clients may provide higher write throughput at the cost of additional Metadata requests pressure to Kafka. (default 1)
  -ingest-storage.kafka.write-timeout duration
    	How long to wait for an incoming write request to be successfully committed to the Kafka backend. (default 10s)
  -ingest-storage.migration.distributor-send-to-ingesters-enabled
    	When both this option and ingest storage are enabled, distributors write to both Kafka and ingesters. A write request is considered successful only when written to both backends.
  -ingest-storage.read-consistency string
    	[experimental] The default consistency level to enforce for queries when using the ingest storage. Supports values: strong, eventual. (default "eventual")
  -ingester.active-series-custom-trackers value
    	Additional active series metrics, matching the provided matchers. Matchers should be in form <name>:<matcher>, like 'foobar:{foo="bar"}'. Multiple matchers can be provided either providing the flag multiple times or providing multiple semicolon-separated values to a single flag.
  -ingester.active-series-metrics-enabled
    	Enable tracking of active series and export them as metrics. (default true)
  -ingester.active-series-metrics-idle-timeout duration
    	After what time a series is considered to be inactive. (default 20m0s)
  -ingester.active-series-metrics-update-period duration
    	How often to update active series metrics. (default 1m0s)
  -ingester.client.backoff-max-period duration
    	Maximum delay when backing off. (default 10s)
  -ingester.client.backoff-min-period duration
    	Minimum delay when backing off. (default 100ms)
  -ingester.client.backoff-on-ratelimits
    	Enable backoff and retry when we hit rate limits.
  -ingester.client.backoff-retries int
    	Number of times to backoff and retry before failing. (default 10)
  -ingester.client.connect-backoff-base-delay duration
    	Initial backoff delay after first connection failure. Only relevant if ConnectTimeout > 0. (default 1s)
  -ingester.client.connect-backoff-max-delay duration
    	Maximum backoff delay when establishing a connection. Only relevant if ConnectTimeout > 0. (default 5s)
  -ingester.client.connect-timeout duration
    	The maximum amount of time to establish a connection. A value of 0 means default gRPC client connect timeout and backoff. (default 5s)
  -ingester.client.grpc-client-rate-limit float
    	Rate limit for gRPC client; 0 means disabled.
  -ingester.client.grpc-client-rate-limit-burst int
    	Rate limit burst for gRPC client.
  -ingester.client.grpc-compression string
    	Use compression when sending messages. Supported values are: 'gzip', 'snappy', 's2' and '' (disable compression)
  -ingester.client.grpc-max-recv-msg-size int
    	gRPC client max receive message size (bytes). (default 104857600)
  -ingester.client.grpc-max-send-msg-size int
    	gRPC client max send message size (bytes). (default 104857600)
  -ingester.client.initial-connection-window-size value
    	[experimental] Initial connection window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -ingester.client.initial-stream-window-size value
    	[experimental] Initial stream window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -ingester.client.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ingester.client.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ingester.client.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -ingester.client.tls-enabled
    	Enable TLS in the gRPC client. This flag needs to be enabled when any other TLS flag is set. If set to false, insecure connection to gRPC server will be used.
  -ingester.client.tls-insecure-skip-verify
    	Skip validating server certificate.
  -ingester.client.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ingester.client.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ingester.client.tls-server-name string
    	Override the expected name on the server certificate.
  -ingester.error-sample-rate int
    	Each error will be logged once in this many times. Use 0 to log all of them. (default 10)
  -ingester.ignore-ooo-exemplars
    	[experimental] Whether to ignore exemplars with out-of-order timestamps. If enabled, exemplars with out-of-order timestamps are silently dropped, otherwise they cause partial errors.
  -ingester.ignore-series-limit-for-metric-names string
    	Comma-separated list of metric names, for which the -ingester.max-global-series-per-metric limit will be ignored. Does not affect the -ingester.max-global-series-per-user limit.
  -ingester.instance-limits.max-inflight-push-requests int
    	Max inflight push requests that this ingester can handle (across all tenants). Additional requests will be rejected. 0 = unlimited. (default 30000)
  -ingester.instance-limits.max-inflight-push-requests-bytes int
    	The sum of the request sizes in bytes of inflight push requests that this ingester can handle. This limit is per-ingester, not per-tenant. Additional requests will be rejected. 0 = unlimited.
  -ingester.instance-limits.max-ingestion-rate float
    	Max ingestion rate (samples/sec) that ingester will accept. This limit is per-ingester, not per-tenant. Additional push requests will be rejected. Current ingestion rate is computed as exponentially weighted moving average, updated every second. 0 = unlimited.
  -ingester.instance-limits.max-series int
    	Max series that this ingester can hold (across all tenants). Requests to create additional series will be rejected. 0 = unlimited.
  -ingester.instance-limits.max-tenants int
    	Max tenants that this ingester can hold. Requests from additional tenants will be rejected. 0 = unlimited.
  -ingester.log-utilization-based-limiter-cpu-samples
    	[experimental] Enable logging of utilization based limiter CPU samples.
  -ingester.max-global-exemplars-per-user int
    	[experimental] The maximum number of exemplars in memory, across the cluster. 0 to disable exemplars ingestion.
  -ingester.max-global-metadata-per-metric int
    	The maximum number of metadata per metric, across the cluster. 0 to disable.
  -ingester.max-global-metadata-per-user int
    	The maximum number of in-memory metrics with metadata per tenant, across the cluster. 0 to disable.
  -ingester.max-global-series-per-metric int
    	The maximum number of in-memory series per metric name, across the cluster before replication. 0 to disable.
  -ingester.max-global-series-per-user int
    	The maximum number of in-memory series per tenant, across the cluster before replication. 0 to disable. (default 150000)
  -ingester.metadata-retain-period duration
    	Period at which metadata we have not seen will remain in memory before being deleted. (default 10m0s)
  -ingester.native-histograms-ingestion-enabled
    	[experimental] Enable ingestion of native histogram samples. If false, native histogram samples are ignored without an error. To query native histograms with query-sharding enabled make sure to set -query-frontend.query-result-response-format to 'protobuf'.
  -ingester.ooo-native-histograms-ingestion-enabled
    	[experimental] Enable experimental out-of-order native histogram ingestion. This only takes effect if the `-ingester.out-of-order-time-window` value is greater than zero and if `-ingester.native-histograms-ingestion-enabled = true`
  -ingester.out-of-order-blocks-external-label-enabled
    	[experimental] Whether the shipper should label out-of-order blocks with an external label before uploading them. Setting this label will compact out-of-order blocks separately from non-out-of-order blocks
  -ingester.out-of-order-time-window duration
    	[experimental] Non-zero value enables out-of-order support for most recent samples that are within the time window in relation to the TSDB's maximum time, i.e., within [db.maxTime-timeWindow, db.maxTime]). The ingester will need more memory as a factor of rate of out-of-order samples being ingested and the number of series that are getting out-of-order samples. If query falls into this window, cached results will use value from -query-frontend.results-cache-ttl-for-out-of-order-time-window option to specify TTL for resulting cache entry.
  -ingester.owned-series-update-interval duration
    	[experimental] How often to check for ring changes and possibly recompute owned series as a result of detected change. (default 15s)
  -ingester.partition-ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -ingester.partition-ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -ingester.partition-ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -ingester.partition-ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -ingester.partition-ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -ingester.partition-ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -ingester.partition-ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -ingester.partition-ring.delete-inactive-partition-after duration
    	How long to wait before an INACTIVE partition is eligible for deletion. The partition is deleted only if it has been in INACTIVE state for at least the configured duration and it has no owners registered. A value of 0 disables partitions deletion. (default 13h0m0s)
  -ingester.partition-ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -ingester.partition-ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -ingester.partition-ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -ingester.partition-ring.etcd.password string
    	Etcd password.
  -ingester.partition-ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ingester.partition-ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ingester.partition-ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -ingester.partition-ring.etcd.tls-enabled
    	Enable TLS.
  -ingester.partition-ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -ingester.partition-ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ingester.partition-ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ingester.partition-ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -ingester.partition-ring.etcd.username string
    	Etcd username.
  -ingester.partition-ring.min-partition-owners-count int
    	Minimum number of owners to wait before a PENDING partition gets switched to ACTIVE. (default 1)
  -ingester.partition-ring.min-partition-owners-duration duration
    	How long the minimum number of owners are enforced before a PENDING partition gets switched to ACTIVE. (default 10s)
  -ingester.partition-ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -ingester.partition-ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -ingester.partition-ring.multi.primary string
    	Primary backend storage used by multi-client.
  -ingester.partition-ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -ingester.partition-ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -ingester.partition-ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -ingester.push-circuit-breaker.cooldown-period duration
    	[experimental] How long the circuit breaker will stay in the open state before allowing some requests (default 10s)
  -ingester.push-circuit-breaker.enabled
    	[experimental] Enable circuit breaking when making requests to ingesters
  -ingester.push-circuit-breaker.failure-execution-threshold uint
    	[experimental] How many requests must have been executed in period for the circuit breaker to be eligible to open for the rate of failures (default 100)
  -ingester.push-circuit-breaker.failure-threshold-percentage uint
    	[experimental] Max percentage of requests that can fail over period before the circuit breaker opens (default 10)
  -ingester.push-circuit-breaker.initial-delay duration
    	[experimental] Duration, in seconds, after an initial request that an activated circuit breaker should wait before becoming effectively active. During this time, neither failures nor successes are counted.
  -ingester.push-circuit-breaker.request-timeout duration
    	[experimental] The maximum duration of an ingester's request before it triggers a timeout. This configuration is used for circuit breakers only, and its timeouts aren't reported as errors. (default 2s)
  -ingester.push-circuit-breaker.thresholding-period duration
    	[experimental] Moving window of time that the percentage of failed requests is computed over (default 1m0s)
  -ingester.rate-update-period duration
    	Period with which to update the per-tenant ingestion rates. (default 15s)
  -ingester.read-circuit-breaker.cooldown-period duration
    	[experimental] How long the circuit breaker will stay in the open state before allowing some requests (default 10s)
  -ingester.read-circuit-breaker.enabled
    	[experimental] Enable circuit breaking when making requests to ingesters
  -ingester.read-circuit-breaker.failure-execution-threshold uint
    	[experimental] How many requests must have been executed in period for the circuit breaker to be eligible to open for the rate of failures (default 100)
  -ingester.read-circuit-breaker.failure-threshold-percentage uint
    	[experimental] Max percentage of requests that can fail over period before the circuit breaker opens (default 10)
  -ingester.read-circuit-breaker.initial-delay duration
    	[experimental] Duration, in seconds, after an initial request that an activated circuit breaker should wait before becoming effectively active. During this time, neither failures nor successes are counted.
  -ingester.read-circuit-breaker.request-timeout duration
    	[experimental] The maximum duration of an ingester's request before it triggers a timeout. This configuration is used for circuit breakers only, and its timeouts aren't reported as errors. (default 30s)
  -ingester.read-circuit-breaker.thresholding-period duration
    	[experimental] Moving window of time that the percentage of failed requests is computed over (default 1m0s)
  -ingester.read-path-cpu-utilization-limit float
    	[experimental] CPU utilization limit, as CPU cores, for CPU/memory utilization based read request limiting. Use 0 to disable it.
  -ingester.read-path-memory-utilization-limit uint
    	[experimental] Memory limit, in bytes, for CPU/memory utilization based read request limiting. Use 0 to disable it.
  -ingester.ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -ingester.ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -ingester.ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -ingester.ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -ingester.ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -ingester.ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -ingester.ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -ingester.ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -ingester.ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -ingester.ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -ingester.ring.etcd.password string
    	Etcd password.
  -ingester.ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ingester.ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ingester.ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -ingester.ring.etcd.tls-enabled
    	Enable TLS.
  -ingester.ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -ingester.ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ingester.ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ingester.ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -ingester.ring.etcd.username string
    	Etcd username.
  -ingester.ring.excluded-zones comma-separated-list-of-strings
    	Comma-separated list of zones to exclude from the ring. Instances in excluded zones will be filtered out from the ring. This option needs be set on ingesters, distributors, queriers, and rulers when running in microservices mode.
  -ingester.ring.final-sleep duration
    	Duration to sleep for before exiting, to ensure metrics are scraped.
  -ingester.ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -ingester.ring.heartbeat-timeout duration
    	The heartbeat timeout after which ingesters are skipped for reads/writes. 0 = never (timeout disabled). This option needs be set on ingesters, distributors, queriers, and rulers when running in microservices mode. (default 1m0s)
  -ingester.ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -ingester.ring.instance-availability-zone string
    	The availability zone where this instance is running.
  -ingester.ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -ingester.ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -ingester.ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -ingester.ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -ingester.ring.min-ready-duration duration
    	Minimum duration to wait after the internal readiness checks have passed but before succeeding the readiness endpoint. This is used to slowdown deployment controllers (eg. Kubernetes) after an instance is ready and before they proceed with a rolling update, to give the rest of the cluster instances enough time to receive ring updates. (default 15s)
  -ingester.ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -ingester.ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -ingester.ring.multi.primary string
    	Primary backend storage used by multi-client.
  -ingester.ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -ingester.ring.num-tokens int
    	Number of tokens for each ingester. (default 128)
  -ingester.ring.observe-period duration
    	Observe tokens after generating to resolve collisions. Useful when using gossiping ring.
  -ingester.ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -ingester.ring.replication-factor int
    	Number of ingesters that each time series is replicated to. This option needs be set on ingesters, distributors, queriers, and rulers when running in microservices mode. (default 3)
  -ingester.ring.spread-minimizing-join-ring-in-order
    	True to allow this ingester registering tokens in the ring only after all previous ingesters (with ID lower than the current one) have already been registered. This configuration option is supported only when the token generation strategy is set to "spread-minimizing".
  -ingester.ring.spread-minimizing-zones comma-separated-list-of-strings
    	Comma-separated list of zones in which spread minimizing strategy is used for token generation. This value must include all zones in which ingesters are deployed, and must not change over time. This configuration is used only when "token-generation-strategy" is set to "spread-minimizing".
  -ingester.ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -ingester.ring.token-generation-strategy string
    	Specifies the strategy used for generating tokens for ingesters. Supported values are: random,spread-minimizing. (default "random")
  -ingester.ring.tokens-file-path string
    	File path where tokens are stored. If empty, tokens are not stored at shutdown and restored at startup. Must be empty if -ingester.ring.token-generation-strategy is set to "spread-minimizing".
  -ingester.ring.unregister-on-shutdown
    	Unregister from the ring upon clean shutdown. It can be useful to disable for rolling restarts with consistent naming. (default true)
  -ingester.ring.zone-awareness-enabled
    	True to enable the zone-awareness and replicate ingested samples across different availability zones. This option needs be set on ingesters, distributors, queriers, and rulers when running in microservices mode.
  -ingester.stream-chunks-when-using-blocks
    	Stream chunks from ingesters to queriers. (default true)
  -ingester.track-ingester-owned-series
    	[experimental] This option enables tracking of ingester-owned series based on ring state, even if -ingester.use-ingester-owned-series-for-limits is disabled.
  -ingester.tsdb-config-update-period duration
    	[experimental] Period with which to update the per-tenant TSDB configuration. (default 15s)
  -ingester.use-ingester-owned-series-for-limits
    	[experimental] When enabled, only series currently owned by ingester according to the ring are used when checking user per-tenant series limit.
  -log.format string
    	Output log messages in the given format. Valid formats: [logfmt, json] (default "logfmt")
  -log.level value
    	Only log messages with the given severity or above. Valid levels: [debug, info, warn, error] (default info)
  -log.rate-limit-enabled
    	[experimental] Use rate limited logger to reduce the number of logged messages per second.
  -log.rate-limit-logs-burst-size int
    	[experimental] Burst size, i.e., maximum number of messages that can be logged at once, temporarily exceeding the configured maximum logs per second. (default 1000)
  -log.rate-limit-logs-per-second float
    	[experimental] Maximum number of messages per second to be logged. (default 10000)
  -max-separate-metrics-groups-per-user int
    	[experimental] Maximum number of groups allowed per user by which specified distributor and ingester metrics can be further separated. (default 1000)
  -mem-ballast-size-bytes int
    	Size of memory ballast to allocate.
  -memberlist.abort-if-join-fails
    	If this node fails to join memberlist cluster, abort.
  -memberlist.acquire-writer-timeout duration
    	Timeout for acquiring one of the concurrent write slots. After this time, the message will be dropped. (default 250ms)
  -memberlist.advertise-addr string
    	Gossip address to advertise to other members in the cluster. Used for NAT traversal.
  -memberlist.advertise-port int
    	Gossip port to advertise to other members in the cluster. Used for NAT traversal. (default 7946)
  -memberlist.bind-addr string
    	IP address to listen on for gossip messages. Multiple addresses may be specified. Defaults to 0.0.0.0
  -memberlist.bind-port int
    	Port to listen on for gossip messages. (default 7946)
  -memberlist.broadcast-timeout-for-local-updates-on-shutdown duration
    	Timeout for broadcasting all remaining locally-generated updates to other nodes when shutting down. Only used if there are nodes left in the memberlist cluster, and only applies to locally-generated updates, not to broadcast messages that are result of incoming gossip updates. 0 = no timeout, wait until all locally-generated updates are sent. (default 10s)
  -memberlist.cluster-label string
    	The cluster label is an optional string to include in outbound packets and gossip streams. Other members in the memberlist cluster will discard any message whose label doesn't match the configured one, unless the 'cluster-label-verification-disabled' configuration option is set to true.
  -memberlist.cluster-label-verification-disabled
    	When true, memberlist doesn't verify that inbound packets and gossip streams have the cluster label matching the configured one. This verification should be disabled while rolling out the change to the configured cluster label in a live memberlist cluster.
  -memberlist.compression-enabled
    	Enable message compression. This can be used to reduce bandwidth usage at the cost of slightly more CPU utilization. (default true)
  -memberlist.dead-node-reclaim-time duration
    	How soon can dead node's name be reclaimed with new address. 0 to disable.
  -memberlist.gossip-interval duration
    	How often to gossip. (default 200ms)
  -memberlist.gossip-nodes int
    	How many nodes to gossip to. (default 3)
  -memberlist.gossip-to-dead-nodes-time duration
    	How long to keep gossiping to dead nodes, to give them chance to refute their death. (default 30s)
  -memberlist.join string
    	Other cluster members to join. Can be specified multiple times. It can be an IP, hostname or an entry specified in the DNS Service Discovery format.
  -memberlist.leave-timeout duration
    	Timeout for leaving memberlist cluster. (default 20s)
  -memberlist.left-ingesters-timeout duration
    	How long to keep LEFT ingesters in the ring. (default 5m0s)
  -memberlist.max-concurrent-writes int
    	Maximum number of concurrent writes to other nodes. (default 3)
  -memberlist.max-join-backoff duration
    	Max backoff duration to join other cluster members. (default 1m0s)
  -memberlist.max-join-retries int
    	Max number of retries to join other cluster members. (default 10)
  -memberlist.message-history-buffer-bytes int
    	How much space to use for keeping received and sent messages in memory for troubleshooting (two buffers). 0 to disable.
  -memberlist.min-join-backoff duration
    	Min backoff duration to join other cluster members. (default 1s)
  -memberlist.nodename string
    	Name of the node in memberlist cluster. Defaults to hostname.
  -memberlist.notify-interval duration
    	How frequently to notify watchers when a key changes. Can reduce CPU activity in large memberlist deployments. 0 to notify without delay.
  -memberlist.packet-dial-timeout duration
    	Timeout used when connecting to other nodes to send packet. (default 2s)
  -memberlist.packet-write-timeout duration
    	Timeout for writing 'packet' data. (default 5s)
  -memberlist.pullpush-interval duration
    	How often to use pull/push sync. (default 30s)
  -memberlist.randomize-node-name
    	Add random suffix to the node name. (default true)
  -memberlist.rejoin-interval duration
    	If not 0, how often to rejoin the cluster. Occasional rejoin can help to fix the cluster split issue, and is harmless otherwise. For example when using only few components as a seed nodes (via -memberlist.join), then it's recommended to use rejoin. If -memberlist.join points to dynamic service that resolves to all gossiping nodes (eg. Kubernetes headless service), then rejoin is not needed.
  -memberlist.retransmit-factor int
    	Multiplication factor used when sending out messages (factor * log(N+1)). (default 4)
  -memberlist.stream-timeout duration
    	The timeout for establishing a connection with a remote node, and for read/write operations. (default 2s)
  -memberlist.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -memberlist.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -memberlist.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -memberlist.tls-enabled
    	Enable TLS on the memberlist transport layer.
  -memberlist.tls-insecure-skip-verify
    	Skip validating server certificate.
  -memberlist.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -memberlist.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -memberlist.tls-server-name string
    	Override the expected name on the server certificate.
  -memberlist.transport-debug
    	Log debug transport messages. Note: global log.level must be at debug level as well.
  -modules
    	List available values that can be used as target.
  -overrides-exporter.enabled-metrics comma-separated-list-of-strings
    	Comma-separated list of metrics to include in the exporter. Allowed metric names: ingestion_rate, ingestion_burst_size, max_global_series_per_user, max_global_series_per_metric, max_global_exemplars_per_user, max_fetched_chunks_per_query, max_fetched_series_per_query, max_fetched_chunk_bytes_per_query, ruler_max_rules_per_rule_group, ruler_max_rule_groups_per_tenant, max_global_metadata_per_user, max_global_metadata_per_metric, request_rate, request_burst_size, alertmanager_notification_rate_limit, alertmanager_max_dispatcher_aggregation_groups, alertmanager_max_alerts_count, alertmanager_max_alerts_size_bytes. (default ingestion_rate,ingestion_burst_size,max_global_series_per_user,max_global_series_per_metric,max_global_exemplars_per_user,max_fetched_chunks_per_query,max_fetched_series_per_query,max_fetched_chunk_bytes_per_query,ruler_max_rules_per_rule_group,ruler_max_rule_groups_per_tenant)
  -overrides-exporter.ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -overrides-exporter.ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -overrides-exporter.ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -overrides-exporter.ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -overrides-exporter.ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -overrides-exporter.ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -overrides-exporter.ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -overrides-exporter.ring.enabled
    	Enable the ring used by override-exporters to deduplicate exported limit metrics.
  -overrides-exporter.ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -overrides-exporter.ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -overrides-exporter.ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -overrides-exporter.ring.etcd.password string
    	Etcd password.
  -overrides-exporter.ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -overrides-exporter.ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -overrides-exporter.ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -overrides-exporter.ring.etcd.tls-enabled
    	Enable TLS.
  -overrides-exporter.ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -overrides-exporter.ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -overrides-exporter.ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -overrides-exporter.ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -overrides-exporter.ring.etcd.username string
    	Etcd username.
  -overrides-exporter.ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -overrides-exporter.ring.heartbeat-timeout duration
    	The heartbeat timeout after which overrides-exporters are considered unhealthy within the ring. 0 = never (timeout disabled). (default 1m0s)
  -overrides-exporter.ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -overrides-exporter.ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -overrides-exporter.ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -overrides-exporter.ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -overrides-exporter.ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -overrides-exporter.ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -overrides-exporter.ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -overrides-exporter.ring.multi.primary string
    	Primary backend storage used by multi-client.
  -overrides-exporter.ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -overrides-exporter.ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -overrides-exporter.ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -overrides-exporter.ring.wait-stability-max-duration duration
    	Maximum time to wait for ring stability at startup. If the overrides-exporter ring keeps changing after this period of time, it will start anyway. (default 5m0s)
  -overrides-exporter.ring.wait-stability-min-duration duration
    	Minimum time to wait for ring stability at startup, if set to positive value. Set to 0 to disable.
  -print.config
    	Print the config and exit.
  -querier.active-series-results-max-size-bytes int
    	[experimental] Maximum size of an active series or active native histogram series request result shard in bytes. 0 to disable. (default 419430400)
  -querier.cardinality-analysis-enabled
    	Enables endpoints used for cardinality analysis.
  -querier.default-evaluation-interval duration
    	The default evaluation interval or step size for subqueries. This config option should be set on query-frontend too when query sharding is enabled. (default 1m0s)
  -querier.dns-lookup-period duration
    	How often to query DNS for query-frontend or query-scheduler address. (default 10s)
  -querier.enable-query-engine-fallback
    	[experimental] If set to true and the Mimir query engine is in use, fall back to using the Prometheus query engine for any queries not supported by the Mimir query engine. (default true)
  -querier.frontend-address string
    	Address of the query-frontend component, in host:port format. If multiple query-frontends are running, the host should be a DNS resolving to all query-frontend instances. This option should be set only when query-scheduler component is not in use.
  -querier.frontend-client.backoff-max-period duration
    	Maximum delay when backing off. (default 10s)
  -querier.frontend-client.backoff-min-period duration
    	Minimum delay when backing off. (default 100ms)
  -querier.frontend-client.backoff-on-ratelimits
    	Enable backoff and retry when we hit rate limits.
  -querier.frontend-client.backoff-retries int
    	Number of times to backoff and retry before failing. (default 10)
  -querier.frontend-client.connect-backoff-base-delay duration
    	Initial backoff delay after first connection failure. Only relevant if ConnectTimeout > 0. (default 1s)
  -querier.frontend-client.connect-backoff-max-delay duration
    	Maximum backoff delay when establishing a connection. Only relevant if ConnectTimeout > 0. (default 5s)
  -querier.frontend-client.connect-timeout duration
    	The maximum amount of time to establish a connection. A value of 0 means default gRPC client connect timeout and backoff. (default 5s)
  -querier.frontend-client.grpc-client-rate-limit float
    	Rate limit for gRPC client; 0 means disabled.
  -querier.frontend-client.grpc-client-rate-limit-burst int
    	Rate limit burst for gRPC client.
  -querier.frontend-client.grpc-compression string
    	Use compression when sending messages. Supported values are: 'gzip', 'snappy', 's2' and '' (disable compression)
  -querier.frontend-client.grpc-max-recv-msg-size int
    	gRPC client max receive message size (bytes). (default 104857600)
  -querier.frontend-client.grpc-max-send-msg-size int
    	gRPC client max send message size (bytes). (default 104857600)
  -querier.frontend-client.initial-connection-window-size value
    	[experimental] Initial connection window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -querier.frontend-client.initial-stream-window-size value
    	[experimental] Initial stream window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -querier.frontend-client.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -querier.frontend-client.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -querier.frontend-client.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -querier.frontend-client.tls-enabled
    	Enable TLS in the gRPC client. This flag needs to be enabled when any other TLS flag is set. If set to false, insecure connection to gRPC server will be used.
  -querier.frontend-client.tls-insecure-skip-verify
    	Skip validating server certificate.
  -querier.frontend-client.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -querier.frontend-client.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -querier.frontend-client.tls-server-name string
    	Override the expected name on the server certificate.
  -querier.id string
    	Querier ID, sent to the query-frontend to identify requests from the same querier. Defaults to hostname.
  -querier.label-names-and-values-results-max-size-bytes int
    	Maximum size in bytes of distinct label names and values. When querier receives response from ingester, it merges the response with responses from other ingesters. This maximum size limit is applied to the merged(distinct) results. If the limit is reached, an error is returned. (default 419430400)
  -querier.label-values-max-cardinality-label-names-per-request int
    	Maximum number of label names allowed to be queried in a single /api/v1/cardinality/label_values API call. (default 100)
  -querier.lookback-delta duration
    	Time since the last sample after which a time series is considered stale and ignored by expression evaluations. This config option should be set on query-frontend too when query sharding is enabled. (default 5m0s)
  -querier.max-concurrent int
    	The number of workers running in each querier process. This setting limits the maximum number of concurrent queries in each querier. The minimum value is four; lower values are ignored and set to the minimum (default 20)
  -querier.max-estimated-fetched-chunks-per-query-multiplier float
    	[experimental] Maximum number of chunks estimated to be fetched in a single query from ingesters and store-gateways, as a multiple of -querier.max-fetched-chunks-per-query. This limit is enforced in the querier. Must be greater than or equal to 1, or 0 to disable.
  -querier.max-estimated-memory-consumption-per-query uint
    	[experimental] The maximum estimated memory a single query can consume at once, in bytes. This limit is only enforced when Mimir's query engine is in use. This limit is enforced in the querier. 0 to disable.
  -querier.max-fetched-chunk-bytes-per-query int
    	The maximum size of all chunks in bytes that a query can fetch from ingesters and store-gateways. This limit is enforced in the querier and ruler. 0 to disable.
  -querier.max-fetched-chunks-per-query int
    	Maximum number of chunks that can be fetched in a single query from ingesters and store-gateways. This limit is enforced in the querier, ruler and store-gateway. 0 to disable. (default 2000000)
  -querier.max-fetched-series-per-query int
    	The maximum number of unique series for which a query can fetch samples from ingesters and store-gateways. This limit is enforced in the querier, ruler and store-gateway. 0 to disable
  -querier.max-outstanding-requests-per-tenant int
    	Maximum number of outstanding requests per tenant per frontend; requests beyond this error with HTTP 429. (default 100)
  -querier.max-partial-query-length duration
    	Limit the time range for partial queries at the querier level.
  -querier.max-query-lookback duration
    	Limit how long back data (series and metadata) can be queried, up until <lookback> duration ago. This limit is enforced in the query-frontend, querier and ruler for instant, range and remote read queries. For metadata queries like series, label names, label values queries the limit is enforced in the querier and ruler. If the requested time range is outside the allowed range, the request will not fail but will be manipulated to only query data within the allowed time range. 0 to disable.
  -querier.max-query-parallelism int
    	Maximum number of split (by time) or partial (by shard) queries that will be scheduled in parallel by the query-frontend for a single input query. This limit is introduced to have a fairer query scheduling and avoid a single query over a large time range saturating all available queriers. (default 14)
  -querier.max-samples int
    	Maximum number of samples a single query can load into memory. This config option should be set on query-frontend too when query sharding is enabled. (default 50000000)
  -querier.mimir-query-engine.enable-aggregation-operations
    	[experimental] Enable support for aggregation operations in the Mimir query engine. Only applies if the MQE is in use. (default true)
  -querier.mimir-query-engine.enable-binary-logical-operations
    	[experimental] Enable support for binary logical operations in the Mimir query engine. Only applies if the MQE is in use. (default true)
  -querier.mimir-query-engine.enable-histogram-quantile-function
    	[experimental] Enable support for the histogram_quantile function in the Mimir query engine. Only applies if the MQE is in use. (default true)
  -querier.mimir-query-engine.enable-scalar-scalar-binary-comparison-operations
    	[experimental] Enable support for binary comparison operations between two scalars in the Mimir query engine. Only applies if the MQE is in use. (default true)
  -querier.mimir-query-engine.enable-scalars
    	[experimental] Enable support for scalars in the Mimir query engine. Only applies if the MQE is in use. (default true)
  -querier.mimir-query-engine.enable-subqueries
    	[experimental] Enable support for subqueries in the Mimir query engine. Only applies if the MQE is in use. (default true)
  -querier.mimir-query-engine.enable-vector-scalar-binary-comparison-operations
    	[experimental] Enable support for binary comparison operations between a vector and a scalar in the Mimir query engine. Only applies if the MQE is in use. (default true)
  -querier.mimir-query-engine.enable-vector-vector-binary-comparison-operations
    	[experimental] Enable support for binary comparison operations between two vectors in the Mimir query engine. Only applies if the MQE is in use. (default true)
  -querier.minimize-ingester-requests
    	If true, when querying ingesters, only the minimum required ingesters required to reach quorum will be queried initially, with other ingesters queried only if needed due to failures from the initial set of ingesters. Enabling this option reduces resource consumption for the happy path at the cost of increased latency for the unhappy path. (default true)
  -querier.minimize-ingester-requests-hedging-delay duration
    	Delay before initiating requests to further ingesters when request minimization is enabled and the initially selected set of ingesters have not all responded. Ignored if -querier.minimize-ingester-requests is not enabled. (default 3s)
  -querier.promql-experimental-functions-enabled
    	[experimental] Enable experimental PromQL functions. This config option should be set on query-frontend too when query sharding is enabled.
  -querier.query-engine string
    	[experimental] Query engine to use, either 'prometheus' or 'mimir' (default "prometheus")
  -querier.query-ingesters-within duration
    	Maximum lookback beyond which queries are not sent to ingester. 0 means all queries are sent to ingester. (default 13h)
  -querier.query-store-after duration
    	The time after which a metric should be queried from storage and not just ingesters. 0 means all queries are sent to store. If this option is enabled, the time range of the query sent to the store-gateway will be manipulated to ensure the query end is not more recent than 'now - query-store-after'. (default 12h0m0s)
  -querier.response-streaming-enabled
    	[experimental] Enables streaming of responses from querier to query-frontend for response types that support it (currently only `active_series` responses do).
  -querier.scheduler-address string
    	Address of the query-scheduler component, in host:port format. The host should resolve to all query-scheduler instances. This option should be set only when query-scheduler component is in use and -query-scheduler.service-discovery-mode is set to 'dns'.
  -querier.scheduler-client.backoff-max-period duration
    	Maximum delay when backing off. (default 10s)
  -querier.scheduler-client.backoff-min-period duration
    	Minimum delay when backing off. (default 100ms)
  -querier.scheduler-client.backoff-on-ratelimits
    	Enable backoff and retry when we hit rate limits.
  -querier.scheduler-client.backoff-retries int
    	Number of times to backoff and retry before failing. (default 10)
  -querier.scheduler-client.connect-backoff-base-delay duration
    	Initial backoff delay after first connection failure. Only relevant if ConnectTimeout > 0. (default 1s)
  -querier.scheduler-client.connect-backoff-max-delay duration
    	Maximum backoff delay when establishing a connection. Only relevant if ConnectTimeout > 0. (default 5s)
  -querier.scheduler-client.connect-timeout duration
    	The maximum amount of time to establish a connection. A value of 0 means default gRPC client connect timeout and backoff. (default 5s)
  -querier.scheduler-client.grpc-client-rate-limit float
    	Rate limit for gRPC client; 0 means disabled.
  -querier.scheduler-client.grpc-client-rate-limit-burst int
    	Rate limit burst for gRPC client.
  -querier.scheduler-client.grpc-compression string
    	Use compression when sending messages. Supported values are: 'gzip', 'snappy', 's2' and '' (disable compression)
  -querier.scheduler-client.grpc-max-recv-msg-size int
    	gRPC client max receive message size (bytes). (default 104857600)
  -querier.scheduler-client.grpc-max-send-msg-size int
    	gRPC client max send message size (bytes). (default 104857600)
  -querier.scheduler-client.initial-connection-window-size value
    	[experimental] Initial connection window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -querier.scheduler-client.initial-stream-window-size value
    	[experimental] Initial stream window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -querier.scheduler-client.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -querier.scheduler-client.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -querier.scheduler-client.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -querier.scheduler-client.tls-enabled
    	Enable TLS in the gRPC client. This flag needs to be enabled when any other TLS flag is set. If set to false, insecure connection to gRPC server will be used.
  -querier.scheduler-client.tls-insecure-skip-verify
    	Skip validating server certificate.
  -querier.scheduler-client.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -querier.scheduler-client.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -querier.scheduler-client.tls-server-name string
    	Override the expected name on the server certificate.
  -querier.shuffle-sharding-ingesters-enabled
    	Fetch in-memory series from the minimum set of required ingesters, selecting only ingesters which may have received series since -querier.query-ingesters-within. If this setting is false or -querier.query-ingesters-within is '0', queriers always query all ingesters (ingesters shuffle sharding on read path is disabled). (default true)
  -querier.store-gateway-client.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -querier.store-gateway-client.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -querier.store-gateway-client.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -querier.store-gateway-client.tls-enabled
    	Enable TLS for gRPC client connecting to store-gateway.
  -querier.store-gateway-client.tls-insecure-skip-verify
    	Skip validating server certificate.
  -querier.store-gateway-client.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -querier.store-gateway-client.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -querier.store-gateway-client.tls-server-name string
    	Override the expected name on the server certificate.
  -querier.streaming-chunks-per-ingester-buffer-size uint
    	Number of series to buffer per ingester when streaming chunks from ingesters. (default 256)
  -querier.streaming-chunks-per-store-gateway-buffer-size uint
    	Number of series to buffer per store-gateway when streaming chunks from store-gateways. (default 256)
  -querier.timeout duration
    	The timeout for a query. This config option should be set on query-frontend too when query sharding is enabled. This also applies to queries evaluated by the ruler (internally or remotely). (default 2m0s)
  -query-frontend.active-series-write-timeout duration
    	[experimental] Timeout for writing active series responses. 0 means the value from `-server.http-write-timeout` is used. (default 5m0s)
  -query-frontend.align-queries-with-step
    	Mutate incoming queries to align their start and end with their step to improve result caching.
  -query-frontend.block-promql-experimental-functions
    	[experimental] True to control access to specific PromQL experimental functions per tenant.
  -query-frontend.cache-errors
    	[experimental] Cache non-transient errors from queries.
  -query-frontend.cache-results
    	Cache query results.
  -query-frontend.cache-unaligned-requests
    	Cache requests that are not step-aligned.
  -query-frontend.downstream-url string
    	URL of downstream Prometheus.
  -query-frontend.enabled-promql-experimental-functions comma-separated-list-of-strings
    	[experimental] Enable certain experimental PromQL functions, which are subject to being changed or removed at any time, on a per-tenant basis. Defaults to empty which means all experimental functions are disabled. Set to 'all' to enable all experimental functions.
  -query-frontend.grpc-client-config.backoff-max-period duration
    	Maximum delay when backing off. (default 10s)
  -query-frontend.grpc-client-config.backoff-min-period duration
    	Minimum delay when backing off. (default 100ms)
  -query-frontend.grpc-client-config.backoff-on-ratelimits
    	Enable backoff and retry when we hit rate limits.
  -query-frontend.grpc-client-config.backoff-retries int
    	Number of times to backoff and retry before failing. (default 10)
  -query-frontend.grpc-client-config.connect-backoff-base-delay duration
    	Initial backoff delay after first connection failure. Only relevant if ConnectTimeout > 0. (default 1s)
  -query-frontend.grpc-client-config.connect-backoff-max-delay duration
    	Maximum backoff delay when establishing a connection. Only relevant if ConnectTimeout > 0. (default 5s)
  -query-frontend.grpc-client-config.connect-timeout duration
    	The maximum amount of time to establish a connection. A value of 0 means default gRPC client connect timeout and backoff. (default 5s)
  -query-frontend.grpc-client-config.grpc-client-rate-limit float
    	Rate limit for gRPC client; 0 means disabled.
  -query-frontend.grpc-client-config.grpc-client-rate-limit-burst int
    	Rate limit burst for gRPC client.
  -query-frontend.grpc-client-config.grpc-compression string
    	Use compression when sending messages. Supported values are: 'gzip', 'snappy', 's2' and '' (disable compression)
  -query-frontend.grpc-client-config.grpc-max-recv-msg-size int
    	gRPC client max receive message size (bytes). (default 104857600)
  -query-frontend.grpc-client-config.grpc-max-send-msg-size int
    	gRPC client max send message size (bytes). (default 104857600)
  -query-frontend.grpc-client-config.initial-connection-window-size value
    	[experimental] Initial connection window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -query-frontend.grpc-client-config.initial-stream-window-size value
    	[experimental] Initial stream window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -query-frontend.grpc-client-config.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -query-frontend.grpc-client-config.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -query-frontend.grpc-client-config.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -query-frontend.grpc-client-config.tls-enabled
    	Enable TLS in the gRPC client. This flag needs to be enabled when any other TLS flag is set. If set to false, insecure connection to gRPC server will be used.
  -query-frontend.grpc-client-config.tls-insecure-skip-verify
    	Skip validating server certificate.
  -query-frontend.grpc-client-config.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -query-frontend.grpc-client-config.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -query-frontend.grpc-client-config.tls-server-name string
    	Override the expected name on the server certificate.
  -query-frontend.instance-addr string
    	IP address to advertise to the querier (via scheduler) (default is auto-detected from network interfaces).
  -query-frontend.instance-enable-ipv6
    	Enable using a IPv6 instance address (default false).
  -query-frontend.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. This address is sent to query-scheduler and querier, which uses it to send the query response back to query-frontend. (default [<private network interfaces>])
  -query-frontend.instance-port int
    	Port to advertise to querier (via scheduler) (defaults to server.grpc-listen-port).
  -query-frontend.log-queries-longer-than duration
    	Log queries that are slower than the specified duration. Set to 0 to disable. Set to < 0 to enable on all queries.
  -query-frontend.log-query-request-headers comma-separated-list-of-strings
    	Comma-separated list of request header names to include in query logs. Applies to both query stats and slow queries logs.
  -query-frontend.max-body-size int
    	Max body size for downstream prometheus. (default 10485760)
  -query-frontend.max-cache-freshness duration
    	Most recent allowed cacheable result per-tenant, to prevent caching very recent results that might still be in flux. (default 10m)
  -query-frontend.max-queriers-per-tenant int
    	Maximum number of queriers that can handle requests for a single tenant. If set to 0 or value higher than number of available queriers, *all* queriers will handle requests for the tenant. Each frontend (or query-scheduler, if used) will select the same set of queriers for the same tenant (given that all queriers are connected to all frontends / query-schedulers). This option only works with queriers connecting to the query-frontend / query-scheduler, not when using downstream URL.
  -query-frontend.max-query-expression-size-bytes int
    	Max size of the raw query, in bytes. This limit is enforced by the query-frontend for instant, range and remote read queries. 0 to not apply a limit to the size of the query.
  -query-frontend.max-retries-per-request int
    	Maximum number of retries for a single request; beyond this, the downstream error is returned. (default 5)
  -query-frontend.max-total-query-length duration
    	Limit the total query time range (end - start time). This limit is enforced in the query-frontend on the received instant, range or remote read query.
  -query-frontend.not-running-timeout duration
    	Maximum time to wait for the query-frontend to become ready before rejecting requests received before the frontend was ready. 0 to disable (i.e. fail immediately if a request is received while the frontend is still starting up) (default 2s)
  -query-frontend.parallelize-shardable-queries
    	True to enable query sharding.
  -query-frontend.prune-queries
    	[experimental] True to enable pruning dead code (eg. expressions that cannot produce any results) and simplifying expressions (eg. expressions that can be evaluated immediately) in queries.
  -query-frontend.querier-forget-delay duration
    	[experimental] If a querier disconnects without sending notification about graceful shutdown, the query-frontend will keep the querier in the tenant's shard until the forget delay has passed. This feature is useful to reduce the blast radius when shuffle-sharding is enabled.
  -query-frontend.query-result-response-format string
    	Format to use when retrieving query results from queriers. Supported values: json, protobuf (default "protobuf")
  -query-frontend.query-sharding-max-regexp-size-bytes int
    	Disable query sharding for any query containing a regular expression matcher longer than the configured number of bytes. 0 to disable the limit. (default 4096)
  -query-frontend.query-sharding-max-sharded-queries int
    	The max number of sharded queries that can be run for a given received query. 0 to disable limit. (default 128)
  -query-frontend.query-sharding-target-series-per-shard uint
    	How many series a single sharded partial query should load at most. This is not a strict requirement guaranteed to be honoured by query sharding, but a hint given to the query sharding when the query execution is initially planned. 0 to disable cardinality-based hints.
  -query-frontend.query-sharding-total-shards int
    	The amount of shards to use when doing parallelisation via query sharding by tenant. 0 to disable query sharding for tenant. Query sharding implementation will adjust the number of query shards based on compactor shards. This allows querier to not search the blocks which cannot possibly have the series for given query shard. (default 16)
  -query-frontend.query-stats-enabled
    	False to disable query statistics tracking. When enabled, a message with some statistics is logged for every query. (default true)
  -query-frontend.results-cache-ttl duration
    	Time to live duration for cached query results. If query falls into out-of-order time window, -query-frontend.results-cache-ttl-for-out-of-order-time-window is used instead. (default 1w)
  -query-frontend.results-cache-ttl-for-cardinality-query duration
    	Time to live duration for cached cardinality query results. The value 0 disables the cache.
  -query-frontend.results-cache-ttl-for-errors duration
    	[experimental] Time to live duration for cached non-transient errors (default 5m)
  -query-frontend.results-cache-ttl-for-labels-query duration
    	Time to live duration for cached label names and label values query results. The value 0 disables the cache.
  -query-frontend.results-cache-ttl-for-out-of-order-time-window duration
    	Time to live duration for cached query results if query falls into out-of-order time window. This is lower than -query-frontend.results-cache-ttl so that incoming out-of-order samples are returned in the query results sooner. (default 10m)
  -query-frontend.results-cache.backend string
    	Backend for query-frontend results cache, if not empty. Supported values: memcached, redis.
  -query-frontend.results-cache.compression string
    	Enable cache compression, if not empty. Supported values are: snappy.
  -query-frontend.results-cache.memcached.addresses comma-separated-list-of-strings
    	Comma-separated list of memcached addresses. Each address can be an IP address, hostname, or an entry specified in the DNS Service Discovery format.
  -query-frontend.results-cache.memcached.connect-timeout duration
    	The connection timeout. (default 200ms)
  -query-frontend.results-cache.memcached.max-async-buffer-size int
    	The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -query-frontend.results-cache.memcached.max-async-concurrency int
    	The maximum number of concurrent asynchronous operations can occur. (default 50)
  -query-frontend.results-cache.memcached.max-get-multi-batch-size int
    	The maximum number of keys a single underlying get operation should run. If more keys are specified, internally keys are split into multiple batches and fetched concurrently, honoring the max concurrency. If set to 0, the max batch size is unlimited. (default 100)
  -query-frontend.results-cache.memcached.max-get-multi-concurrency int
    	The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -query-frontend.results-cache.memcached.max-idle-connections int
    	The maximum number of idle connections that will be maintained per address. (default 100)
  -query-frontend.results-cache.memcached.max-item-size int
    	The maximum size of an item stored in memcached, in bytes. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 1048576)
  -query-frontend.results-cache.memcached.min-idle-connections-headroom-percentage float
    	The minimum number of idle connections to keep open as a percentage (0-100) of the number of recently used idle connections. If negative, idle connections are kept open indefinitely. (default -1)
  -query-frontend.results-cache.memcached.read-buffer-size-bytes int
    	[experimental] The size of the read buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -query-frontend.results-cache.memcached.timeout duration
    	The socket read/write timeout. (default 200ms)
  -query-frontend.results-cache.memcached.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -query-frontend.results-cache.memcached.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -query-frontend.results-cache.memcached.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -query-frontend.results-cache.memcached.tls-enabled
    	Enable connecting to Memcached with TLS.
  -query-frontend.results-cache.memcached.tls-insecure-skip-verify
    	Skip validating server certificate.
  -query-frontend.results-cache.memcached.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -query-frontend.results-cache.memcached.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -query-frontend.results-cache.memcached.tls-server-name string
    	Override the expected name on the server certificate.
  -query-frontend.results-cache.memcached.write-buffer-size-bytes int
    	[experimental] The size of the write buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -query-frontend.results-cache.redis.connection-pool-size int
    	[deprecated] Maximum number of connections in the pool. (default 100)
  -query-frontend.results-cache.redis.connection-pool-timeout duration
    	[deprecated] Maximum duration to wait to get a connection from pool. (default 4s)
  -query-frontend.results-cache.redis.db int
    	[deprecated] Database index.
  -query-frontend.results-cache.redis.dial-timeout duration
    	[deprecated] Client dial timeout. (default 5s)
  -query-frontend.results-cache.redis.endpoint comma-separated-list-of-strings
    	[deprecated] Redis Server or Cluster configuration endpoint to use for caching. A comma-separated list of endpoints for Redis Cluster or Redis Sentinel.
  -query-frontend.results-cache.redis.idle-timeout duration
    	[deprecated] Amount of time after which client closes idle connections. (default 5m0s)
  -query-frontend.results-cache.redis.master-name string
    	[deprecated] Redis Sentinel master name. An empty string for Redis Server or Redis Cluster.
  -query-frontend.results-cache.redis.max-async-buffer-size int
    	[deprecated] The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -query-frontend.results-cache.redis.max-async-concurrency int
    	[deprecated] The maximum number of concurrent asynchronous operations can occur. (default 50)
  -query-frontend.results-cache.redis.max-connection-age duration
    	[deprecated] Close connections older than this duration. If the value is zero, then the pool does not close connections based on age.
  -query-frontend.results-cache.redis.max-get-multi-batch-size int
    	[deprecated] The maximum size per batch for mget operations. (default 100)
  -query-frontend.results-cache.redis.max-get-multi-concurrency int
    	[deprecated] The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -query-frontend.results-cache.redis.max-item-size int
    	[deprecated] The maximum size of an item stored in Redis. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 16777216)
  -query-frontend.results-cache.redis.min-idle-connections int
    	[deprecated] Minimum number of idle connections. (default 10)
  -query-frontend.results-cache.redis.password string
    	[deprecated] Password to use when connecting to Redis.
  -query-frontend.results-cache.redis.read-timeout duration
    	[deprecated] Client read timeout. (default 3s)
  -query-frontend.results-cache.redis.tls-ca-path string
    	[deprecated] Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -query-frontend.results-cache.redis.tls-cert-path string
    	[deprecated] Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -query-frontend.results-cache.redis.tls-cipher-suites string
    	[deprecated] Override the default cipher suite list (separated by commas).
  -query-frontend.results-cache.redis.tls-enabled
    	[deprecated] Enable connecting to Redis with TLS.
  -query-frontend.results-cache.redis.tls-insecure-skip-verify
    	[deprecated] Skip validating server certificate.
  -query-frontend.results-cache.redis.tls-key-path string
    	[deprecated] Path to the key for the client certificate. Also requires the client certificate to be configured.
  -query-frontend.results-cache.redis.tls-min-version string
    	[deprecated] Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -query-frontend.results-cache.redis.tls-server-name string
    	[deprecated] Override the expected name on the server certificate.
  -query-frontend.results-cache.redis.username string
    	[deprecated] Username to use when connecting to Redis.
  -query-frontend.results-cache.redis.write-timeout duration
    	[deprecated] Client write timeout. (default 3s)
  -query-frontend.scheduler-address string
    	Address of the query-scheduler component, in host:port format. The host should resolve to all query-scheduler instances. This option should be set only when query-scheduler component is in use and -query-scheduler.service-discovery-mode is set to 'dns'.
  -query-frontend.scheduler-dns-lookup-period duration
    	How often to resolve the scheduler-address, in order to look for new query-scheduler instances. (default 10s)
  -query-frontend.scheduler-worker-concurrency int
    	Number of concurrent workers forwarding queries to single query-scheduler. (default 5)
  -query-frontend.shard-active-series-queries
    	[experimental] True to enable sharding of active series queries.
  -query-frontend.split-instant-queries-by-interval duration
    	[experimental] Split instant queries by an interval and execute in parallel. 0 to disable it.
  -query-frontend.split-queries-by-interval duration
    	Split range queries by an interval and execute in parallel. You should use a multiple of 24 hours to optimize querying blocks. 0 to disable it. (default 24h0m0s)
  -query-frontend.use-active-series-decoder
    	[experimental] Set to true to use the zero-allocation response decoder for active series queries.
  -query-scheduler.grpc-client-config.backoff-max-period duration
    	Maximum delay when backing off. (default 10s)
  -query-scheduler.grpc-client-config.backoff-min-period duration
    	Minimum delay when backing off. (default 100ms)
  -query-scheduler.grpc-client-config.backoff-on-ratelimits
    	Enable backoff and retry when we hit rate limits.
  -query-scheduler.grpc-client-config.backoff-retries int
    	Number of times to backoff and retry before failing. (default 10)
  -query-scheduler.grpc-client-config.connect-backoff-base-delay duration
    	Initial backoff delay after first connection failure. Only relevant if ConnectTimeout > 0. (default 1s)
  -query-scheduler.grpc-client-config.connect-backoff-max-delay duration
    	Maximum backoff delay when establishing a connection. Only relevant if ConnectTimeout > 0. (default 5s)
  -query-scheduler.grpc-client-config.connect-timeout duration
    	The maximum amount of time to establish a connection. A value of 0 means default gRPC client connect timeout and backoff. (default 5s)
  -query-scheduler.grpc-client-config.grpc-client-rate-limit float
    	Rate limit for gRPC client; 0 means disabled.
  -query-scheduler.grpc-client-config.grpc-client-rate-limit-burst int
    	Rate limit burst for gRPC client.
  -query-scheduler.grpc-client-config.grpc-compression string
    	Use compression when sending messages. Supported values are: 'gzip', 'snappy', 's2' and '' (disable compression)
  -query-scheduler.grpc-client-config.grpc-max-recv-msg-size int
    	gRPC client max receive message size (bytes). (default 104857600)
  -query-scheduler.grpc-client-config.grpc-max-send-msg-size int
    	gRPC client max send message size (bytes). (default 104857600)
  -query-scheduler.grpc-client-config.initial-connection-window-size value
    	[experimental] Initial connection window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -query-scheduler.grpc-client-config.initial-stream-window-size value
    	[experimental] Initial stream window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -query-scheduler.grpc-client-config.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -query-scheduler.grpc-client-config.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -query-scheduler.grpc-client-config.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -query-scheduler.grpc-client-config.tls-enabled
    	Enable TLS in the gRPC client. This flag needs to be enabled when any other TLS flag is set. If set to false, insecure connection to gRPC server will be used.
  -query-scheduler.grpc-client-config.tls-insecure-skip-verify
    	Skip validating server certificate.
  -query-scheduler.grpc-client-config.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -query-scheduler.grpc-client-config.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -query-scheduler.grpc-client-config.tls-server-name string
    	Override the expected name on the server certificate.
  -query-scheduler.max-outstanding-requests-per-tenant int
    	Maximum number of outstanding requests per tenant per query-scheduler. In-flight requests above this limit will fail with HTTP response status code 429. (default 100)
  -query-scheduler.max-used-instances int
    	The maximum number of query-scheduler instances to use, regardless how many replicas are running. This option can be set only when -query-scheduler.service-discovery-mode is set to 'ring'. 0 to use all available query-scheduler instances.
  -query-scheduler.querier-forget-delay duration
    	[experimental] If a querier disconnects without sending notification about graceful shutdown, the query-scheduler will keep the querier in the tenant's shard until the forget delay has passed. This feature is useful to reduce the blast radius when shuffle-sharding is enabled.
  -query-scheduler.ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -query-scheduler.ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -query-scheduler.ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -query-scheduler.ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -query-scheduler.ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -query-scheduler.ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -query-scheduler.ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -query-scheduler.ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -query-scheduler.ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -query-scheduler.ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -query-scheduler.ring.etcd.password string
    	Etcd password.
  -query-scheduler.ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -query-scheduler.ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -query-scheduler.ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -query-scheduler.ring.etcd.tls-enabled
    	Enable TLS.
  -query-scheduler.ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -query-scheduler.ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -query-scheduler.ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -query-scheduler.ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -query-scheduler.ring.etcd.username string
    	Etcd username.
  -query-scheduler.ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -query-scheduler.ring.heartbeat-timeout duration
    	The heartbeat timeout after which query-schedulers are considered unhealthy within the ring. When query-scheduler ring-based service discovery is enabled, this option needs be set on query-schedulers, query-frontends and queriers. (default 1m0s)
  -query-scheduler.ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -query-scheduler.ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -query-scheduler.ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -query-scheduler.ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -query-scheduler.ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -query-scheduler.ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -query-scheduler.ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -query-scheduler.ring.multi.primary string
    	Primary backend storage used by multi-client.
  -query-scheduler.ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -query-scheduler.ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -query-scheduler.ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -query-scheduler.service-discovery-mode string
    	[experimental] Service discovery mode that query-frontends and queriers use to find query-scheduler instances. When query-scheduler ring-based service discovery is enabled, this option needs be set on query-schedulers, query-frontends and queriers. Supported values are: dns, ring. (default "dns")
  -ruler-storage.azure.account-key string
    	Azure storage account key. If unset, Azure managed identities will be used for authentication instead.
  -ruler-storage.azure.account-name string
    	Azure storage account name
  -ruler-storage.azure.connection-string string
    	If `connection-string` is set, the value of `endpoint-suffix` will not be used. Use this method over `account-key` if you need to authenticate via a SAS token. Or if you use the Azurite emulator.
  -ruler-storage.azure.container-name string
    	Azure storage container name
  -ruler-storage.azure.endpoint-suffix string
    	Azure storage endpoint suffix without schema. The account name will be prefixed to this value to create the FQDN. If set to empty string, default endpoint suffix is used.
  -ruler-storage.azure.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -ruler-storage.azure.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -ruler-storage.azure.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -ruler-storage.azure.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -ruler-storage.azure.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -ruler-storage.azure.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -ruler-storage.azure.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -ruler-storage.azure.http.tls-server-name string
    	Override the expected name on the server certificate.
  -ruler-storage.azure.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -ruler-storage.azure.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -ruler-storage.azure.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -ruler-storage.azure.max-retries int
    	Number of retries for recoverable errors (default 20)
  -ruler-storage.azure.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -ruler-storage.azure.user-assigned-id string
    	User assigned managed identity. If empty, then System assigned identity is used.
  -ruler-storage.backend string
    	Backend storage to use. Supported backends are: s3, gcs, azure, swift, filesystem, local. (default "filesystem")
  -ruler-storage.cache.backend string
    	Backend for ruler storage cache, if not empty. The cache is supported for any storage backend except "local". Supported values: memcached, redis.
  -ruler-storage.cache.memcached.addresses comma-separated-list-of-strings
    	Comma-separated list of memcached addresses. Each address can be an IP address, hostname, or an entry specified in the DNS Service Discovery format.
  -ruler-storage.cache.memcached.connect-timeout duration
    	The connection timeout. (default 200ms)
  -ruler-storage.cache.memcached.max-async-buffer-size int
    	The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -ruler-storage.cache.memcached.max-async-concurrency int
    	The maximum number of concurrent asynchronous operations can occur. (default 50)
  -ruler-storage.cache.memcached.max-get-multi-batch-size int
    	The maximum number of keys a single underlying get operation should run. If more keys are specified, internally keys are split into multiple batches and fetched concurrently, honoring the max concurrency. If set to 0, the max batch size is unlimited. (default 100)
  -ruler-storage.cache.memcached.max-get-multi-concurrency int
    	The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -ruler-storage.cache.memcached.max-idle-connections int
    	The maximum number of idle connections that will be maintained per address. (default 100)
  -ruler-storage.cache.memcached.max-item-size int
    	The maximum size of an item stored in memcached, in bytes. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 1048576)
  -ruler-storage.cache.memcached.min-idle-connections-headroom-percentage float
    	The minimum number of idle connections to keep open as a percentage (0-100) of the number of recently used idle connections. If negative, idle connections are kept open indefinitely. (default -1)
  -ruler-storage.cache.memcached.read-buffer-size-bytes int
    	[experimental] The size of the read buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -ruler-storage.cache.memcached.timeout duration
    	The socket read/write timeout. (default 200ms)
  -ruler-storage.cache.memcached.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ruler-storage.cache.memcached.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ruler-storage.cache.memcached.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -ruler-storage.cache.memcached.tls-enabled
    	Enable connecting to Memcached with TLS.
  -ruler-storage.cache.memcached.tls-insecure-skip-verify
    	Skip validating server certificate.
  -ruler-storage.cache.memcached.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ruler-storage.cache.memcached.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ruler-storage.cache.memcached.tls-server-name string
    	Override the expected name on the server certificate.
  -ruler-storage.cache.memcached.write-buffer-size-bytes int
    	[experimental] The size of the write buffer (in bytes). The buffer is allocated for each connection to memcached. (default 4096)
  -ruler-storage.cache.redis.connection-pool-size int
    	[deprecated] Maximum number of connections in the pool. (default 100)
  -ruler-storage.cache.redis.connection-pool-timeout duration
    	[deprecated] Maximum duration to wait to get a connection from pool. (default 4s)
  -ruler-storage.cache.redis.db int
    	[deprecated] Database index.
  -ruler-storage.cache.redis.dial-timeout duration
    	[deprecated] Client dial timeout. (default 5s)
  -ruler-storage.cache.redis.endpoint comma-separated-list-of-strings
    	[deprecated] Redis Server or Cluster configuration endpoint to use for caching. A comma-separated list of endpoints for Redis Cluster or Redis Sentinel.
  -ruler-storage.cache.redis.idle-timeout duration
    	[deprecated] Amount of time after which client closes idle connections. (default 5m0s)
  -ruler-storage.cache.redis.master-name string
    	[deprecated] Redis Sentinel master name. An empty string for Redis Server or Redis Cluster.
  -ruler-storage.cache.redis.max-async-buffer-size int
    	[deprecated] The maximum number of enqueued asynchronous operations allowed. (default 25000)
  -ruler-storage.cache.redis.max-async-concurrency int
    	[deprecated] The maximum number of concurrent asynchronous operations can occur. (default 50)
  -ruler-storage.cache.redis.max-connection-age duration
    	[deprecated] Close connections older than this duration. If the value is zero, then the pool does not close connections based on age.
  -ruler-storage.cache.redis.max-get-multi-batch-size int
    	[deprecated] The maximum size per batch for mget operations. (default 100)
  -ruler-storage.cache.redis.max-get-multi-concurrency int
    	[deprecated] The maximum number of concurrent connections running get operations. If set to 0, concurrency is unlimited. (default 100)
  -ruler-storage.cache.redis.max-item-size int
    	[deprecated] The maximum size of an item stored in Redis. Bigger items are not stored. If set to 0, no maximum size is enforced. (default 16777216)
  -ruler-storage.cache.redis.min-idle-connections int
    	[deprecated] Minimum number of idle connections. (default 10)
  -ruler-storage.cache.redis.password string
    	[deprecated] Password to use when connecting to Redis.
  -ruler-storage.cache.redis.read-timeout duration
    	[deprecated] Client read timeout. (default 3s)
  -ruler-storage.cache.redis.tls-ca-path string
    	[deprecated] Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ruler-storage.cache.redis.tls-cert-path string
    	[deprecated] Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ruler-storage.cache.redis.tls-cipher-suites string
    	[deprecated] Override the default cipher suite list (separated by commas).
  -ruler-storage.cache.redis.tls-enabled
    	[deprecated] Enable connecting to Redis with TLS.
  -ruler-storage.cache.redis.tls-insecure-skip-verify
    	[deprecated] Skip validating server certificate.
  -ruler-storage.cache.redis.tls-key-path string
    	[deprecated] Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ruler-storage.cache.redis.tls-min-version string
    	[deprecated] Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ruler-storage.cache.redis.tls-server-name string
    	[deprecated] Override the expected name on the server certificate.
  -ruler-storage.cache.redis.username string
    	[deprecated] Username to use when connecting to Redis.
  -ruler-storage.cache.redis.write-timeout duration
    	[deprecated] Client write timeout. (default 3s)
  -ruler-storage.cache.rule-group-enabled
    	[experimental] Enabling caching of rule group contents if a cache backend is configured.
  -ruler-storage.filesystem.dir string
    	Local filesystem storage directory. (default "ruler")
  -ruler-storage.gcs.bucket-name string
    	GCS bucket name
  -ruler-storage.gcs.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -ruler-storage.gcs.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -ruler-storage.gcs.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -ruler-storage.gcs.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -ruler-storage.gcs.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -ruler-storage.gcs.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -ruler-storage.gcs.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -ruler-storage.gcs.http.tls-server-name string
    	Override the expected name on the server certificate.
  -ruler-storage.gcs.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -ruler-storage.gcs.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -ruler-storage.gcs.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -ruler-storage.gcs.service-account string
    	JSON either from a Google Developers Console client_credentials.json file, or a Google Developers service account key. Needs to be valid JSON, not a filesystem path.
  -ruler-storage.gcs.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -ruler-storage.local.directory string
    	Directory to scan for rules
  -ruler-storage.s3.access-key-id string
    	S3 access key ID
  -ruler-storage.s3.bucket-lookup-type value
    	Bucket lookup style type, used to access bucket in S3-compatible service. Default is auto. Supported values are: auto, path, virtual-hosted.
  -ruler-storage.s3.bucket-name string
    	S3 bucket name
  -ruler-storage.s3.dualstack-enabled
    	[experimental] When enabled, direct all AWS S3 requests to the dual-stack IPv4/IPv6 endpoint for the configured region. (default true)
  -ruler-storage.s3.endpoint string
    	The S3 bucket endpoint. It could be an AWS S3 endpoint listed at https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an S3-compatible service in hostname:port format.
  -ruler-storage.s3.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -ruler-storage.s3.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -ruler-storage.s3.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -ruler-storage.s3.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -ruler-storage.s3.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -ruler-storage.s3.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -ruler-storage.s3.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -ruler-storage.s3.http.tls-server-name string
    	Override the expected name on the server certificate.
  -ruler-storage.s3.insecure
    	If enabled, use http:// for the S3 endpoint instead of https://. This could be useful in local dev/test environments while using an S3-compatible backend storage, like Minio.
  -ruler-storage.s3.list-objects-version string
    	Use a specific version of the S3 list object API. Supported values are v1 or v2. Default is unset.
  -ruler-storage.s3.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -ruler-storage.s3.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -ruler-storage.s3.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -ruler-storage.s3.native-aws-auth-enabled
    	[experimental] If enabled, it will use the default authentication methods of the AWS SDK for go based on known environment variables and known AWS config files.
  -ruler-storage.s3.part-size uint
    	[experimental] The minimum file size in bytes used for multipart uploads. If 0, the value is optimally computed for each object.
  -ruler-storage.s3.region string
    	S3 region. If unset, the client will issue a S3 GetBucketLocation API call to autodetect it.
  -ruler-storage.s3.secret-access-key string
    	S3 secret access key
  -ruler-storage.s3.send-content-md5
    	[experimental] If enabled, a Content-MD5 header is sent with S3 Put Object requests. Consumes more resources to compute the MD5, but may improve compatibility with object storage services that do not support checksums.
  -ruler-storage.s3.session-token string
    	S3 session token
  -ruler-storage.s3.signature-version string
    	The signature version to use for authenticating against S3. Supported values are: v4, v2. (default "v4")
  -ruler-storage.s3.sse.kms-encryption-context string
    	KMS Encryption Context used for object encryption. It expects JSON formatted string.
  -ruler-storage.s3.sse.kms-key-id string
    	KMS Key ID used to encrypt objects in S3
  -ruler-storage.s3.sse.type string
    	Enable AWS Server Side Encryption. Supported values: SSE-KMS, SSE-S3.
  -ruler-storage.s3.storage-class string
    	[experimental] The S3 storage class to use, not set by default. Details can be found at https://aws.amazon.com/s3/storage-classes/. Supported values are: STANDARD, REDUCED_REDUNDANCY, GLACIER, STANDARD_IA, ONEZONE_IA, INTELLIGENT_TIERING, DEEP_ARCHIVE, OUTPOSTS, GLACIER_IR, SNOW, EXPRESS_ONEZONE
  -ruler-storage.s3.sts-endpoint string
    	Accessing S3 resources using temporary, secure credentials provided by AWS Security Token Service.
  -ruler-storage.s3.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -ruler-storage.s3.trace.enabled
    	When enabled, low-level S3 HTTP operation information is logged at the debug level.
  -ruler-storage.storage-prefix string
    	Prefix for all objects stored in the backend storage. For simplicity, it may only contain digits and English alphabet letters.
  -ruler-storage.swift.application-credential-id string
    	OpenStack Swift application credential id
  -ruler-storage.swift.application-credential-name string
    	OpenStack Swift application credential name
  -ruler-storage.swift.application-credential-secret string
    	OpenStack Swift application credential secret
  -ruler-storage.swift.auth-url string
    	OpenStack Swift authentication URL
  -ruler-storage.swift.auth-version int
    	OpenStack Swift authentication API version. 0 to autodetect.
  -ruler-storage.swift.connect-timeout duration
    	Time after which a connection attempt is aborted. (default 10s)
  -ruler-storage.swift.container-name string
    	Name of the OpenStack Swift container to put chunks in.
  -ruler-storage.swift.domain-id string
    	OpenStack Swift user's domain ID.
  -ruler-storage.swift.domain-name string
    	OpenStack Swift user's domain name.
  -ruler-storage.swift.max-retries int
    	Max retries on requests error. (default 3)
  -ruler-storage.swift.password string
    	OpenStack Swift API key.
  -ruler-storage.swift.project-domain-id string
    	ID of the OpenStack Swift project's domain (v3 auth only), only needed if it differs the from user domain.
  -ruler-storage.swift.project-domain-name string
    	Name of the OpenStack Swift project's domain (v3 auth only), only needed if it differs from the user domain.
  -ruler-storage.swift.project-id string
    	OpenStack Swift project ID (v2,v3 auth only).
  -ruler-storage.swift.project-name string
    	OpenStack Swift project name (v2,v3 auth only).
  -ruler-storage.swift.region-name string
    	OpenStack Swift Region to use (v2,v3 auth only).
  -ruler-storage.swift.request-timeout duration
    	Time after which an idle request is aborted. The timeout watchdog is reset each time some data is received, so the timeout triggers after X time no data is received on a request. (default 5s)
  -ruler-storage.swift.user-domain-id string
    	OpenStack Swift user's domain ID.
  -ruler-storage.swift.user-domain-name string
    	OpenStack Swift user's domain name.
  -ruler-storage.swift.user-id string
    	OpenStack Swift user ID.
  -ruler-storage.swift.username string
    	OpenStack Swift username.
  -ruler.alerting-rules-evaluation-enabled
    	Controls whether alerting rules evaluation is enabled. This configuration option can be used to forcefully disable alerting rules evaluation on a per-tenant basis. (default true)
  -ruler.alertmanager-client.basic-auth-password string
    	HTTP Basic authentication password. It overrides the password set in the URL (if any).
  -ruler.alertmanager-client.basic-auth-username string
    	HTTP Basic authentication username. It overrides the username set in the URL (if any).
  -ruler.alertmanager-client.oauth.client_id string
    	OAuth2 client ID. Enables the use of OAuth2 for authenticating with Alertmanager.
  -ruler.alertmanager-client.oauth.client_secret string
    	OAuth2 client secret.
  -ruler.alertmanager-client.oauth.scopes comma-separated-list-of-strings
    	Optional scopes to include with the token request.
  -ruler.alertmanager-client.oauth.token_url string
    	Endpoint used to fetch access token.
  -ruler.alertmanager-client.proxy-url string
    	Optional HTTP, HTTPS via CONNECT, or SOCKS5 proxy URL to route requests through. Applies to all requests, including auxiliary traffic, such as OAuth token requests.
  -ruler.alertmanager-client.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ruler.alertmanager-client.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ruler.alertmanager-client.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -ruler.alertmanager-client.tls-enabled
    	Enable TLS for gRPC client connecting to alertmanager. (default true)
  -ruler.alertmanager-client.tls-insecure-skip-verify
    	Skip validating server certificate.
  -ruler.alertmanager-client.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ruler.alertmanager-client.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ruler.alertmanager-client.tls-server-name string
    	Override the expected name on the server certificate.
  -ruler.alertmanager-refresh-interval duration
    	How long to wait between refreshing DNS resolutions of Alertmanager hosts. (default 1m0s)
  -ruler.alertmanager-url string
    	Comma-separated list of URL(s) of the Alertmanager(s) to send notifications to. Each URL is treated as a separate group. Multiple Alertmanagers in HA per group can be supported by using DNS service discovery format, comprehensive of the scheme. Basic auth is supported as part of the URL.
  -ruler.client.backoff-max-period duration
    	Maximum delay when backing off. (default 10s)
  -ruler.client.backoff-min-period duration
    	Minimum delay when backing off. (default 100ms)
  -ruler.client.backoff-on-ratelimits
    	Enable backoff and retry when we hit rate limits.
  -ruler.client.backoff-retries int
    	Number of times to backoff and retry before failing. (default 10)
  -ruler.client.connect-backoff-base-delay duration
    	Initial backoff delay after first connection failure. Only relevant if ConnectTimeout > 0. (default 1s)
  -ruler.client.connect-backoff-max-delay duration
    	Maximum backoff delay when establishing a connection. Only relevant if ConnectTimeout > 0. (default 5s)
  -ruler.client.connect-timeout duration
    	The maximum amount of time to establish a connection. A value of 0 means default gRPC client connect timeout and backoff. (default 5s)
  -ruler.client.grpc-client-rate-limit float
    	Rate limit for gRPC client; 0 means disabled.
  -ruler.client.grpc-client-rate-limit-burst int
    	Rate limit burst for gRPC client.
  -ruler.client.grpc-compression string
    	Use compression when sending messages. Supported values are: 'gzip', 'snappy', 's2' and '' (disable compression)
  -ruler.client.grpc-max-recv-msg-size int
    	gRPC client max receive message size (bytes). (default 104857600)
  -ruler.client.grpc-max-send-msg-size int
    	gRPC client max send message size (bytes). (default 104857600)
  -ruler.client.initial-connection-window-size value
    	[experimental] Initial connection window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -ruler.client.initial-stream-window-size value
    	[experimental] Initial stream window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -ruler.client.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ruler.client.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ruler.client.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -ruler.client.tls-enabled
    	Enable TLS in the gRPC client. This flag needs to be enabled when any other TLS flag is set. If set to false, insecure connection to gRPC server will be used.
  -ruler.client.tls-insecure-skip-verify
    	Skip validating server certificate.
  -ruler.client.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ruler.client.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ruler.client.tls-server-name string
    	Override the expected name on the server certificate.
  -ruler.disabled-tenants comma-separated-list-of-strings
    	Comma separated list of tenants whose rules this ruler cannot evaluate. If specified, a ruler that would normally pick the specified tenant(s) for processing will ignore them instead. Subject to sharding.
  -ruler.enable-api
    	Enable the ruler config API. (default true)
  -ruler.enabled-tenants comma-separated-list-of-strings
    	Comma separated list of tenants whose rules this ruler can evaluate. If specified, only these tenants will be handled by ruler, otherwise this ruler can process rules from all tenants. Subject to sharding.
  -ruler.evaluation-delay-duration duration
    	Duration to delay the evaluation of rules to ensure the underlying metrics have been pushed. (default 1m)
  -ruler.evaluation-interval duration
    	How frequently to evaluate rules (default 1m0s)
  -ruler.external.url string
    	URL of alerts return path.
  -ruler.for-grace-period duration
    	This grace period controls which alerts the ruler restores after a restart. Alerts with "for" duration lower than this grace period are not restored after a ruler restart. This means that if the alerts have been firing before the ruler restarted, they will now go to pending state and then to firing again after their "for" duration expires. Alerts with "for" duration greater than or equal to this grace period that have been pending before the ruler restart will remain in pending state for at least this grace period. Alerts with "for" duration greater than or equal to this grace period that have been firing before the ruler restart will continue to be firing after the restart. (default 2m0s)
  -ruler.for-outage-tolerance duration
    	Max time to tolerate outage for restoring "for" state of alert. (default 1h0m0s)
  -ruler.inbound-sync-queue-poll-interval duration
    	[experimental] Interval between applying queued incoming rule sync requests. (default 10s)
  -ruler.independent-rule-evaluation-concurrency-min-duration-percentage float
    	[experimental] Minimum threshold of the interval to last rule group runtime duration to allow a rule to be evaluated concurrency. By default, the rule group runtime duration must exceed 50.0% of the evaluation interval. (default 50)
  -ruler.max-independent-rule-evaluation-concurrency int
    	[experimental] Number of rules rules that don't have dependencies that we allow to be evaluated concurrently across all tenants. 0 to disable.
  -ruler.max-independent-rule-evaluation-concurrency-per-tenant int
    	[experimental] Maximum number of independent rules that can run concurrently for each tenant. Depends on ruler.max-independent-rule-evaluation-concurrency being greater than 0. Ideally this flag should be a lower value. 0 to disable. (default 4)
  -ruler.max-rule-groups-per-tenant int
    	Maximum number of rule groups per-tenant. 0 to disable. (default 70)
  -ruler.max-rule-groups-per-tenant-by-namespace value
    	Maximum number of rule groups per tenant by namespace. Value is a map, where each key is the namespace and value is the number of rule groups allowed in the namespace (int). On the command line, this map is given in a JSON format. The number of rule groups specified has the same meaning as -ruler.max-rule-groups-per-tenant, but only applies for the specific namespace. If specified, it supersedes -ruler.max-rule-groups-per-tenant. (default {})
  -ruler.max-rules-per-rule-group int
    	Maximum number of rules per rule group per-tenant. 0 to disable. (default 20)
  -ruler.max-rules-per-rule-group-by-namespace value
    	Maximum number of rules per rule group by namespace. Value is a map, where each key is the namespace and value is the number of rules allowed in the namespace (int). On the command line, this map is given in a JSON format. The number of rules specified has the same meaning as -ruler.max-rules-per-rule-group, but only applies for the specific namespace. If specified, it supersedes -ruler.max-rules-per-rule-group. (default {})
  -ruler.notification-queue-capacity int
    	Capacity of the queue for notifications to be sent to the Alertmanager. (default 10000)
  -ruler.notification-timeout duration
    	HTTP timeout duration when sending notifications to the Alertmanager. (default 10s)
  -ruler.outbound-sync-queue-poll-interval duration
    	[experimental] Interval between sending queued rule sync requests to ruler replicas. (default 10s)
  -ruler.poll-interval duration
    	How frequently the configured rule groups are re-synced from the object storage. (default 10m0s)
  -ruler.protected-namespaces comma-separated-list-of-strings
    	[experimental] List of namespaces that are protected from modification unless a special HTTP header is used. If a namespace is protected, it can only be read, not modified via the ruler's configuration API. The value is a list of strings, where each string is a namespace name. On the command line, this list is given as a comma-separated list.
  -ruler.query-frontend.address string
    	GRPC listen address of the query-frontend(s). Must be a DNS address (prefixed with dns:///) to enable client side load balancing.
  -ruler.query-frontend.grpc-client-config.backoff-max-period duration
    	Maximum delay when backing off. (default 10s)
  -ruler.query-frontend.grpc-client-config.backoff-min-period duration
    	Minimum delay when backing off. (default 100ms)
  -ruler.query-frontend.grpc-client-config.backoff-on-ratelimits
    	Enable backoff and retry when we hit rate limits.
  -ruler.query-frontend.grpc-client-config.backoff-retries int
    	Number of times to backoff and retry before failing. (default 10)
  -ruler.query-frontend.grpc-client-config.connect-backoff-base-delay duration
    	Initial backoff delay after first connection failure. Only relevant if ConnectTimeout > 0. (default 1s)
  -ruler.query-frontend.grpc-client-config.connect-backoff-max-delay duration
    	Maximum backoff delay when establishing a connection. Only relevant if ConnectTimeout > 0. (default 5s)
  -ruler.query-frontend.grpc-client-config.connect-timeout duration
    	The maximum amount of time to establish a connection. A value of 0 means default gRPC client connect timeout and backoff. (default 5s)
  -ruler.query-frontend.grpc-client-config.grpc-client-rate-limit float
    	Rate limit for gRPC client; 0 means disabled.
  -ruler.query-frontend.grpc-client-config.grpc-client-rate-limit-burst int
    	Rate limit burst for gRPC client.
  -ruler.query-frontend.grpc-client-config.grpc-compression string
    	Use compression when sending messages. Supported values are: 'gzip', 'snappy', 's2' and '' (disable compression)
  -ruler.query-frontend.grpc-client-config.grpc-max-recv-msg-size int
    	gRPC client max receive message size (bytes). (default 104857600)
  -ruler.query-frontend.grpc-client-config.grpc-max-send-msg-size int
    	gRPC client max send message size (bytes). (default 104857600)
  -ruler.query-frontend.grpc-client-config.initial-connection-window-size value
    	[experimental] Initial connection window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -ruler.query-frontend.grpc-client-config.initial-stream-window-size value
    	[experimental] Initial stream window size. Values less than the default are not supported and are ignored. Setting this to a value other than the default disables the BDP estimator. (default 63KiB1023B)
  -ruler.query-frontend.grpc-client-config.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ruler.query-frontend.grpc-client-config.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ruler.query-frontend.grpc-client-config.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -ruler.query-frontend.grpc-client-config.tls-enabled
    	Enable TLS in the gRPC client. This flag needs to be enabled when any other TLS flag is set. If set to false, insecure connection to gRPC server will be used.
  -ruler.query-frontend.grpc-client-config.tls-insecure-skip-verify
    	Skip validating server certificate.
  -ruler.query-frontend.grpc-client-config.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ruler.query-frontend.grpc-client-config.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ruler.query-frontend.grpc-client-config.tls-server-name string
    	Override the expected name on the server certificate.
  -ruler.query-frontend.query-result-response-format string
    	Format to use when retrieving query results from query-frontends. Supported values: json, protobuf (default "protobuf")
  -ruler.query-stats-enabled
    	Report the wall time for ruler queries to complete as a per-tenant metric and as an info level log message.
  -ruler.recording-rules-evaluation-enabled
    	Controls whether recording rules evaluation is enabled. This configuration option can be used to forcefully disable recording rules evaluation on a per-tenant basis. (default true)
  -ruler.resend-delay duration
    	Minimum amount of time to wait before resending an alert to Alertmanager. (default 1m0s)
  -ruler.ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -ruler.ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -ruler.ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -ruler.ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -ruler.ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -ruler.ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -ruler.ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -ruler.ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -ruler.ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -ruler.ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -ruler.ring.etcd.password string
    	Etcd password.
  -ruler.ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -ruler.ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -ruler.ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -ruler.ring.etcd.tls-enabled
    	Enable TLS.
  -ruler.ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -ruler.ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -ruler.ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -ruler.ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -ruler.ring.etcd.username string
    	Etcd username.
  -ruler.ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -ruler.ring.heartbeat-timeout duration
    	The heartbeat timeout after which rulers are considered unhealthy within the ring. 0 = never (timeout disabled). (default 1m0s)
  -ruler.ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -ruler.ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -ruler.ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -ruler.ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -ruler.ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -ruler.ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -ruler.ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -ruler.ring.multi.primary string
    	Primary backend storage used by multi-client.
  -ruler.ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -ruler.ring.num-tokens int
    	Number of tokens for each ruler. (default 128)
  -ruler.ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "rulers/")
  -ruler.ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -ruler.rule-evaluation-write-enabled
    	[experimental] Writes the results of rule evaluation to ingesters or ingest storage when enabled. Use this option for testing purposes. To disable, set to false. (default true)
  -ruler.rule-path string
    	Directory to store temporary rule files loaded by the Prometheus rule managers. This directory is not required to be persisted between restarts. (default "./data-ruler/")
  -ruler.sync-rules-on-changes-enabled
    	True to enable a re-sync of the configured rule groups as soon as they're changed via ruler's config API. This re-sync is in addition of the periodic syncing. When enabled, it may take up to few tens of seconds before a configuration change triggers the re-sync. (default true)
  -ruler.tenant-federation.enabled
    	Enable rule groups to query against multiple tenants. The tenant IDs involved need to be in the rule group's 'source_tenants' field. If this flag is set to 'false' when there are federated rule groups that already exist, then these rules groups will be skipped during evaluations.
  -ruler.tenant-shard-size int
    	The tenant's shard size when sharding is used by ruler. Value of 0 disables shuffle sharding for the tenant, and tenant rules will be sharded across all ruler replicas.
  -runtime-config.file comma-separated-list-of-strings
    	Comma separated list of yaml files with the configuration that can be updated at runtime. Runtime config files will be merged from left to right.
  -runtime-config.reload-period duration
    	How often to check runtime config files. (default 10s)
  -server.graceful-shutdown-timeout duration
    	Timeout for graceful shutdowns (default 30s)
  -server.grpc-conn-limit int
    	Maximum number of simultaneous grpc connections, <=0 to disable
  -server.grpc-listen-address string
    	gRPC server listen address.
  -server.grpc-listen-network string
    	gRPC server listen network (default "tcp")
  -server.grpc-listen-port int
    	gRPC server listen port. (default 9095)
  -server.grpc-max-concurrent-streams uint
    	Limit on the number of concurrent streams for gRPC calls per client connection (0 = unlimited) (default 100)
  -server.grpc-max-recv-msg-size-bytes int
    	Limit on the size of a gRPC message this server can receive (bytes). (default 104857600)
  -server.grpc-max-send-msg-size-bytes int
    	Limit on the size of a gRPC message this server can send (bytes). (default 104857600)
  -server.grpc-tls-ca-path string
    	GRPC TLS Client CA path.
  -server.grpc-tls-cert-path string
    	GRPC TLS server cert path.
  -server.grpc-tls-client-auth string
    	GRPC TLS Client Auth type.
  -server.grpc-tls-key-path string
    	GRPC TLS server key path.
  -server.grpc.keepalive.max-connection-age duration
    	The duration for the maximum amount of time a connection may exist before it will be closed. Default: infinity (default 2562047h47m16.854775807s)
  -server.grpc.keepalive.max-connection-age-grace duration
    	An additive period after max-connection-age after which the connection will be forcibly closed. Default: infinity (default 2562047h47m16.854775807s)
  -server.grpc.keepalive.max-connection-idle duration
    	The duration after which an idle connection should be closed. Default: infinity (default 2562047h47m16.854775807s)
  -server.grpc.keepalive.min-time-between-pings duration
    	Minimum amount of time a client should wait before sending a keepalive ping. If client sends keepalive ping more often, server will send GOAWAY and close the connection. (default 10s)
  -server.grpc.keepalive.ping-without-stream-allowed
    	If true, server allows keepalive pings even when there are no active streams(RPCs). If false, and client sends ping when there are no active streams, server will send GOAWAY and close the connection. (default true)
  -server.grpc.keepalive.time duration
    	Duration after which a keepalive probe is sent in case of no activity over the connection., Default: 2h (default 2h0m0s)
  -server.grpc.keepalive.timeout duration
    	After having pinged for keepalive check, the duration after which an idle connection should be closed, Default: 20s (default 20s)
  -server.grpc.num-workers int
    	If non-zero, configures the amount of GRPC server workers used to serve the requests. (default 100)
  -server.http-conn-limit int
    	Maximum number of simultaneous http connections, <=0 to disable
  -server.http-idle-timeout duration
    	Idle timeout for HTTP server (default 2m0s)
  -server.http-listen-address string
    	HTTP server listen address.
  -server.http-listen-network string
    	HTTP server listen network, default tcp (default "tcp")
  -server.http-listen-port int
    	HTTP server listen port. (default 8080)
  -server.http-log-closed-connections-without-response-enabled
    	Log closed connections that did not receive any response, most likely because client didn't send any request within timeout.
  -server.http-read-header-timeout duration
    	Read timeout for HTTP request headers. If set to 0, value of -server.http-read-timeout is used.
  -server.http-read-timeout duration
    	Read timeout for entire HTTP request, including headers and body. (default 30s)
  -server.http-tls-ca-path string
    	HTTP TLS Client CA path.
  -server.http-tls-cert-path string
    	HTTP server cert path.
  -server.http-tls-client-auth string
    	HTTP TLS Client Auth type.
  -server.http-tls-key-path string
    	HTTP server key path.
  -server.http-write-timeout duration
    	Write timeout for HTTP server (default 2m0s)
  -server.log-request-at-info-level-enabled
    	Optionally log requests at info level instead of debug level. Applies to request headers as well if server.log-request-headers is enabled.
  -server.log-request-headers
    	Optionally log request headers.
  -server.log-request-headers-exclude-list string
    	Comma separated list of headers to exclude from loggin. Only used if server.log-request-headers is true.
  -server.log-source-ips-enabled
    	Optionally log the source IPs.
  -server.log-source-ips-full
    	Log all source IPs instead of only the originating one. Only used if server.log-source-ips-enabled is true
  -server.log-source-ips-header string
    	Header field storing the source IPs. Only used if server.log-source-ips-enabled is true. If not set the default Forwarded, X-Real-IP and X-Forwarded-For headers are used
  -server.log-source-ips-regex string
    	Regex for matching the source IPs. Only used if server.log-source-ips-enabled is true. If not set the default Forwarded, X-Real-IP and X-Forwarded-For headers are used
  -server.path-prefix string
    	Base path to serve all API routes from (e.g. /v1/)
  -server.proxy-protocol-enabled
    	[experimental] Enables PROXY protocol.
  -server.register-instrumentation
    	Register the intrumentation handlers (/metrics etc). (default true)
  -server.report-grpc-codes-in-instrumentation-label-enabled
    	If set to true, gRPC statuses will be reported in instrumentation labels with their string representations. Otherwise, they will be reported as "error". (default true)
  -server.throughput.latency-cutoff duration
    	Requests taking over the cutoff are be observed to measure throughput. Server-Timing header is used with specified unit as the indicator, for example 'Server-Timing: unit;val=8.2'. If set to 0, the throughput is not calculated.
  -server.throughput.unit string
    	Unit of the server throughput metric, for example 'processed_bytes' or 'total_samples'. Observed values are gathered from the 'Server-Timing' header with the 'val' key. If set, it is appended to the request_server_throughput metric name. (default "total_samples")
  -server.tls-cipher-suites string
    	Comma-separated list of cipher suites to use. If blank, the default Go cipher suites is used.
  -server.tls-min-version string
    	Minimum TLS version to use. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13. If blank, the Go TLS minimum version is used.
  -shutdown-delay duration
    	How long to wait between SIGTERM and shutdown. After receiving SIGTERM, Mimir will report not-ready status via /ready endpoint.
  -store-gateway.disabled-tenants comma-separated-list-of-strings
    	Comma separated list of tenants that cannot be loaded by the store-gateway. If specified, and the store-gateway would normally load a given tenant for (via -store-gateway.enabled-tenants or sharding), it will be ignored instead.
  -store-gateway.enabled-tenants comma-separated-list-of-strings
    	Comma separated list of tenants that can be loaded by the store-gateway. If specified, only blocks for these tenants will be loaded by the store-gateway, otherwise all tenants can be loaded. Subject to sharding.
  -store-gateway.sharding-ring.auto-forget-enabled
    	When enabled, a store-gateway is automatically removed from the ring after failing to heartbeat the ring for a period longer than 10 times the configured -store-gateway.sharding-ring.heartbeat-timeout. (default true)
  -store-gateway.sharding-ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -store-gateway.sharding-ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -store-gateway.sharding-ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -store-gateway.sharding-ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -store-gateway.sharding-ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -store-gateway.sharding-ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -store-gateway.sharding-ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -store-gateway.sharding-ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -store-gateway.sharding-ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -store-gateway.sharding-ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -store-gateway.sharding-ring.etcd.password string
    	Etcd password.
  -store-gateway.sharding-ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -store-gateway.sharding-ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -store-gateway.sharding-ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -store-gateway.sharding-ring.etcd.tls-enabled
    	Enable TLS.
  -store-gateway.sharding-ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -store-gateway.sharding-ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -store-gateway.sharding-ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -store-gateway.sharding-ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -store-gateway.sharding-ring.etcd.username string
    	Etcd username.
  -store-gateway.sharding-ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -store-gateway.sharding-ring.heartbeat-timeout duration
    	The heartbeat timeout after which store gateways are considered unhealthy within the ring. 0 = never (timeout disabled). This option needs be set both on the store-gateway, querier and ruler when running in microservices mode. (default 1m0s)
  -store-gateway.sharding-ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -store-gateway.sharding-ring.instance-availability-zone string
    	The availability zone where this instance is running. Required if zone-awareness is enabled.
  -store-gateway.sharding-ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -store-gateway.sharding-ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -store-gateway.sharding-ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -store-gateway.sharding-ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -store-gateway.sharding-ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -store-gateway.sharding-ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -store-gateway.sharding-ring.multi.primary string
    	Primary backend storage used by multi-client.
  -store-gateway.sharding-ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -store-gateway.sharding-ring.num-tokens int
    	Number of tokens for each store-gateway. (default 512)
  -store-gateway.sharding-ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -store-gateway.sharding-ring.replication-factor int
    	The replication factor to use when sharding blocks. This option needs be set both on the store-gateway, querier and ruler when running in microservices mode. (default 3)
  -store-gateway.sharding-ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -store-gateway.sharding-ring.tokens-file-path string
    	File path where tokens are stored. If empty, tokens are not stored at shutdown and restored at startup.
  -store-gateway.sharding-ring.unregister-on-shutdown
    	Unregister from the ring upon clean shutdown. (default true)
  -store-gateway.sharding-ring.wait-stability-max-duration duration
    	Maximum time to wait for ring stability at startup. If the store-gateway ring keeps changing after this period of time, the store-gateway will start anyway. (default 5m0s)
  -store-gateway.sharding-ring.wait-stability-min-duration duration
    	Minimum time to wait for ring stability at startup, if set to positive value.
  -store-gateway.sharding-ring.zone-awareness-enabled
    	True to enable zone-awareness and replicate blocks across different availability zones. This option needs be set both on the store-gateway, querier and ruler when running in microservices mode.
  -store-gateway.tenant-shard-size int
    	The tenant's shard size, used when store-gateway sharding is enabled. Value of 0 disables shuffle sharding for the tenant, that is all tenant blocks are sharded across all store-gateway replicas.
  -store.max-labels-query-length duration
    	Limit the time range (end - start time) of series, label names and values queries. This limit is enforced in the querier. If the requested time range is outside the allowed range, the request will not fail but will be manipulated to only query data within the allowed time range. 0 to disable.
  -target comma-separated-list-of-strings
    	Comma-separated list of components to include in the instantiated process. The default value 'all' includes all components that are required to form a functional Grafana Mimir instance in single-binary mode. Use the '-modules' command line flag to get a list of available components, and to see which components are included with 'all'. (default all)
  -tenant-federation.enabled
    	If enabled on all services, queries can be federated across multiple tenants. The tenant IDs involved need to be specified separated by a '|' character in the 'X-Scope-OrgID' header.
  -tenant-federation.max-concurrent int
    	[experimental] The number of workers used for each tenant federated query. This setting limits the maximum number of per-tenant queries executed at a time for a tenant federated query. (default 16)
  -tenant-federation.max-tenants int
    	The max number of tenant IDs that may be supplied for a federated query if enabled. 0 to disable the limit.
  -tests.basic-auth-password string
    	The password to use for HTTP bearer authentication. (mutually exclusive with bearer-token flag)
  -tests.basic-auth-user string
    	The username to use for HTTP bearer authentication. (mutually exclusive with bearer-token flag)
  -tests.bearer-token string
    	The bearer token to use for HTTP bearer authentication. (mutually exclusive with basic-auth flags)
  -tests.client.user-agent string
    	The value the Mimir client should send in the User-Agent header. (default "mimir-continuous-test")
  -tests.read-endpoint string
    	The base endpoint on the read path. The URL should have no trailing slash. The specific API path is appended by the tool to the URL, for example /api/v1/query_range for range query API, so the configured URL must not include it.
  -tests.read-timeout duration
    	The timeout for a single read request. (default 1m0s)
  -tests.run-interval duration
    	How frequently tests should run. (default 5m0s)
  -tests.send-chunks-debugging-header
    	Request debugging on the server side via header.
  -tests.smoke-test
    	Run a smoke test, i.e. run all tests once and exit.
  -tests.tenant-id string
    	The tenant ID to use to write and read metrics in tests. (default "anonymous")
  -tests.write-batch-size int
    	The maximum number of series to write in a single request. (default 1000)
  -tests.write-endpoint string
    	The base endpoint on the write path. The URL should have no trailing slash. The specific API path is appended by the tool to the URL, for example /api/v1/push for the remote write API endpoint, so the configured URL must not include it.
  -tests.write-protocol string
    	The protocol to use to write series data. Supported values are: prometheus, otlp-http (default "prometheus")
  -tests.write-read-series-test.float-samples-enabled
    	Set to true to use float samples (default true)
  -tests.write-read-series-test.histogram-samples-enabled
    	Set to true to use native histogram samples
  -tests.write-read-series-test.max-query-age duration
    	How back in the past metrics can be queried at most. (default 168h0m0s)
  -tests.write-read-series-test.num-series int
    	Number of series used for the test. (default 10000)
  -tests.write-timeout duration
    	The timeout for a single write request. (default 5s)
  -timeseries-unmarshal-caching-optimization-enabled
    	[experimental] Enables optimized marshaling of timeseries. (default true)
  -usage-stats.enabled
    	Enable anonymous usage reporting. (default true)
  -usage-stats.installation-mode string
    	Installation mode. Supported values: custom, helm, jsonnet. (default "custom")
  -usage-tracker.enabled
    	True to enable the usage-tracker.
  -usage-tracker.events-storage.reader..address string
    	The Kafka backend address.
  -usage-tracker.events-storage.reader..auto-create-topic-default-partitions int
    	When auto-creation of Kafka topic is enabled and this value is positive, Kafka's num.partitions configuration option is set on Kafka brokers with this value when Mimir component that uses Kafka starts. This configuration option specifies the default number of partitions that the Kafka broker uses for auto-created topics. Note that this is a Kafka-cluster wide setting, and applies to any auto-created topic. If the setting of num.partitions fails, Mimir proceeds anyways, but auto-created topics could have an incorrect number of partitions.
  -usage-tracker.events-storage.reader..auto-create-topic-enabled
    	Enable auto-creation of Kafka topic if it doesn't exist. (default true)
  -usage-tracker.events-storage.reader..client-id string
    	The Kafka client ID.
  -usage-tracker.events-storage.reader..consume-from-position-at-startup string
    	From which position to start consuming the partition at startup. Supported options: last-offset, start, end, timestamp. (default "last-offset")
  -usage-tracker.events-storage.reader..consume-from-timestamp-at-startup int
    	Milliseconds timestamp after which the consumption of the partition starts at startup. Only applies when consume-from-position-at-startup is timestamp
  -usage-tracker.events-storage.reader..consumer-group string
    	The consumer group used by the consumer to track the last consumed offset. The consumer group must be different for each ingester. If the configured consumer group contains the '<partition>' placeholder, it is replaced with the actual partition ID owned by the ingester. When empty (recommended), Mimir uses the ingester instance ID to guarantee uniqueness.
  -usage-tracker.events-storage.reader..consumer-group-offset-commit-interval duration
    	How frequently a consumer should commit the consumed offset to Kafka. The last committed offset is used at startup to continue the consumption from where it was left. (default 1s)
  -usage-tracker.events-storage.reader..dial-timeout duration
    	The maximum time allowed to open a connection to a Kafka broker. (default 2s)
  -usage-tracker.events-storage.reader..ingestion-concurrency-batch-size int
    	The number of timeseries to batch together before ingesting to the TSDB head. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 150)
  -usage-tracker.events-storage.reader..ingestion-concurrency-estimated-bytes-per-sample int
    	The estimated number of bytes a sample has at time of ingestion. This value is used to estimate the timeseries without decompressing them. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 500)
  -usage-tracker.events-storage.reader..ingestion-concurrency-max int
    	The maximum number of concurrent ingestion streams to the TSDB head. Every tenant has their own set of streams. 0 to disable.
  -usage-tracker.events-storage.reader..ingestion-concurrency-queue-capacity int
    	The number of batches to prepare and queue to ingest to the TSDB head. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 5)
  -usage-tracker.events-storage.reader..ingestion-concurrency-target-flushes-per-shard int
    	The expected number of times to ingest timeseries to the TSDB head after batching. With fewer flushes, the overhead of splitting up the work is higher than the benefit of parallelization. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 80)
  -usage-tracker.events-storage.reader..last-produced-offset-poll-interval duration
    	How frequently to poll the last produced offset, used to enforce strong read consistency. (default 1s)
  -usage-tracker.events-storage.reader..last-produced-offset-retry-timeout duration
    	How long to retry a failed request to get the last produced offset. (default 10s)
  -usage-tracker.events-storage.reader..max-buffered-bytes int
    	The maximum number of buffered records ready to be processed. This limit applies to the sum of all inflight requests. Set to 0 to disable the limit. (default 100000000)
  -usage-tracker.events-storage.reader..max-consumer-lag-at-startup duration
    	The guaranteed maximum lag before a consumer is considered to have caught up reading from a partition at startup, becomes ACTIVE in the hash ring and passes the readiness check. Set both -usage-tracker.events-storage.reader..target-consumer-lag-at-startup and -usage-tracker.events-storage.reader..max-consumer-lag-at-startup to 0 to disable waiting for maximum consumer lag being honored at startup. (default 15s)
  -usage-tracker.events-storage.reader..ongoing-fetch-concurrency int
    	The number of concurrent fetch requests that the ingester makes when reading data continuously from Kafka after startup. Is disabled unless usage-tracker.events-storage.reader..startup-fetch-concurrency is greater than 0. 0 to disable.
  -usage-tracker.events-storage.reader..producer-max-buffered-bytes int
    	The maximum size of (uncompressed) buffered and unacknowledged produced records sent to Kafka. The produce request fails once this limit is reached. This limit is per Kafka client. 0 to disable the limit. (default 1073741824)
  -usage-tracker.events-storage.reader..producer-max-record-size-bytes int
    	The maximum size of a Kafka record data that should be generated by the producer. An incoming write request larger than this size is split into multiple Kafka records. We strongly recommend to not change this setting unless for testing purposes. (default 15983616)
  -usage-tracker.events-storage.reader..sasl-password string
    	The password used to authenticate to Kafka using the SASL plain mechanism. To enable SASL, configure both the username and password.
  -usage-tracker.events-storage.reader..sasl-username string
    	The username used to authenticate to Kafka using the SASL plain mechanism. To enable SASL, configure both the username and password.
  -usage-tracker.events-storage.reader..startup-fetch-concurrency int
    	The number of concurrent fetch requests that the ingester makes when reading data from Kafka during startup. 0 to disable.
  -usage-tracker.events-storage.reader..target-consumer-lag-at-startup duration
    	The best-effort maximum lag a consumer tries to achieve at startup. Set both -usage-tracker.events-storage.reader..target-consumer-lag-at-startup and -usage-tracker.events-storage.reader..max-consumer-lag-at-startup to 0 to disable waiting for maximum consumer lag being honored at startup. (default 2s)
  -usage-tracker.events-storage.reader..topic string
    	The Kafka topic name.
  -usage-tracker.events-storage.reader..use-compressed-bytes-as-fetch-max-bytes
    	When enabled, the fetch request MaxBytes field is computed using the compressed size of previous records. When disabled, MaxBytes is computed using uncompressed bytes. Different Kafka implementations interpret MaxBytes differently. (default true)
  -usage-tracker.events-storage.reader..wait-strong-read-consistency-timeout duration
    	The maximum allowed for a read requests processed by an ingester to wait until strong read consistency is enforced. 0 to disable the timeout. (default 20s)
  -usage-tracker.events-storage.reader..write-clients int
    	The number of Kafka clients used by producers. When the configured number of clients is greater than 1, partitions are sharded among Kafka clients. A higher number of clients may provide higher write throughput at the cost of additional Metadata requests pressure to Kafka. (default 1)
  -usage-tracker.events-storage.reader..write-timeout duration
    	How long to wait for an incoming write request to be successfully committed to the Kafka backend. (default 10s)
  -usage-tracker.events-storage.writer..address string
    	The Kafka backend address.
  -usage-tracker.events-storage.writer..auto-create-topic-default-partitions int
    	When auto-creation of Kafka topic is enabled and this value is positive, Kafka's num.partitions configuration option is set on Kafka brokers with this value when Mimir component that uses Kafka starts. This configuration option specifies the default number of partitions that the Kafka broker uses for auto-created topics. Note that this is a Kafka-cluster wide setting, and applies to any auto-created topic. If the setting of num.partitions fails, Mimir proceeds anyways, but auto-created topics could have an incorrect number of partitions.
  -usage-tracker.events-storage.writer..auto-create-topic-enabled
    	Enable auto-creation of Kafka topic if it doesn't exist. (default true)
  -usage-tracker.events-storage.writer..client-id string
    	The Kafka client ID.
  -usage-tracker.events-storage.writer..consume-from-position-at-startup string
    	From which position to start consuming the partition at startup. Supported options: last-offset, start, end, timestamp. (default "last-offset")
  -usage-tracker.events-storage.writer..consume-from-timestamp-at-startup int
    	Milliseconds timestamp after which the consumption of the partition starts at startup. Only applies when consume-from-position-at-startup is timestamp
  -usage-tracker.events-storage.writer..consumer-group string
    	The consumer group used by the consumer to track the last consumed offset. The consumer group must be different for each ingester. If the configured consumer group contains the '<partition>' placeholder, it is replaced with the actual partition ID owned by the ingester. When empty (recommended), Mimir uses the ingester instance ID to guarantee uniqueness.
  -usage-tracker.events-storage.writer..consumer-group-offset-commit-interval duration
    	How frequently a consumer should commit the consumed offset to Kafka. The last committed offset is used at startup to continue the consumption from where it was left. (default 1s)
  -usage-tracker.events-storage.writer..dial-timeout duration
    	The maximum time allowed to open a connection to a Kafka broker. (default 2s)
  -usage-tracker.events-storage.writer..ingestion-concurrency-batch-size int
    	The number of timeseries to batch together before ingesting to the TSDB head. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 150)
  -usage-tracker.events-storage.writer..ingestion-concurrency-estimated-bytes-per-sample int
    	The estimated number of bytes a sample has at time of ingestion. This value is used to estimate the timeseries without decompressing them. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 500)
  -usage-tracker.events-storage.writer..ingestion-concurrency-max int
    	The maximum number of concurrent ingestion streams to the TSDB head. Every tenant has their own set of streams. 0 to disable.
  -usage-tracker.events-storage.writer..ingestion-concurrency-queue-capacity int
    	The number of batches to prepare and queue to ingest to the TSDB head. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 5)
  -usage-tracker.events-storage.writer..ingestion-concurrency-target-flushes-per-shard int
    	The expected number of times to ingest timeseries to the TSDB head after batching. With fewer flushes, the overhead of splitting up the work is higher than the benefit of parallelization. Only use this setting when -ingest-storage.kafka.ingestion-concurrency-max is greater than 0. (default 80)
  -usage-tracker.events-storage.writer..last-produced-offset-poll-interval duration
    	How frequently to poll the last produced offset, used to enforce strong read consistency. (default 1s)
  -usage-tracker.events-storage.writer..last-produced-offset-retry-timeout duration
    	How long to retry a failed request to get the last produced offset. (default 10s)
  -usage-tracker.events-storage.writer..max-buffered-bytes int
    	The maximum number of buffered records ready to be processed. This limit applies to the sum of all inflight requests. Set to 0 to disable the limit. (default 100000000)
  -usage-tracker.events-storage.writer..max-consumer-lag-at-startup duration
    	The guaranteed maximum lag before a consumer is considered to have caught up reading from a partition at startup, becomes ACTIVE in the hash ring and passes the readiness check. Set both -usage-tracker.events-storage.writer..target-consumer-lag-at-startup and -usage-tracker.events-storage.writer..max-consumer-lag-at-startup to 0 to disable waiting for maximum consumer lag being honored at startup. (default 15s)
  -usage-tracker.events-storage.writer..ongoing-fetch-concurrency int
    	The number of concurrent fetch requests that the ingester makes when reading data continuously from Kafka after startup. Is disabled unless usage-tracker.events-storage.writer..startup-fetch-concurrency is greater than 0. 0 to disable.
  -usage-tracker.events-storage.writer..producer-max-buffered-bytes int
    	The maximum size of (uncompressed) buffered and unacknowledged produced records sent to Kafka. The produce request fails once this limit is reached. This limit is per Kafka client. 0 to disable the limit. (default 1073741824)
  -usage-tracker.events-storage.writer..producer-max-record-size-bytes int
    	The maximum size of a Kafka record data that should be generated by the producer. An incoming write request larger than this size is split into multiple Kafka records. We strongly recommend to not change this setting unless for testing purposes. (default 15983616)
  -usage-tracker.events-storage.writer..sasl-password string
    	The password used to authenticate to Kafka using the SASL plain mechanism. To enable SASL, configure both the username and password.
  -usage-tracker.events-storage.writer..sasl-username string
    	The username used to authenticate to Kafka using the SASL plain mechanism. To enable SASL, configure both the username and password.
  -usage-tracker.events-storage.writer..startup-fetch-concurrency int
    	The number of concurrent fetch requests that the ingester makes when reading data from Kafka during startup. 0 to disable.
  -usage-tracker.events-storage.writer..target-consumer-lag-at-startup duration
    	The best-effort maximum lag a consumer tries to achieve at startup. Set both -usage-tracker.events-storage.writer..target-consumer-lag-at-startup and -usage-tracker.events-storage.writer..max-consumer-lag-at-startup to 0 to disable waiting for maximum consumer lag being honored at startup. (default 2s)
  -usage-tracker.events-storage.writer..topic string
    	The Kafka topic name.
  -usage-tracker.events-storage.writer..use-compressed-bytes-as-fetch-max-bytes
    	When enabled, the fetch request MaxBytes field is computed using the compressed size of previous records. When disabled, MaxBytes is computed using uncompressed bytes. Different Kafka implementations interpret MaxBytes differently. (default true)
  -usage-tracker.events-storage.writer..wait-strong-read-consistency-timeout duration
    	The maximum allowed for a read requests processed by an ingester to wait until strong read consistency is enforced. 0 to disable the timeout. (default 20s)
  -usage-tracker.events-storage.writer..write-clients int
    	The number of Kafka clients used by producers. When the configured number of clients is greater than 1, partitions are sharded among Kafka clients. A higher number of clients may provide higher write throughput at the cost of additional Metadata requests pressure to Kafka. (default 1)
  -usage-tracker.events-storage.writer..write-timeout duration
    	How long to wait for an incoming write request to be successfully committed to the Kafka backend. (default 10s)
  -usage-tracker.idle-timeout duration
    	The time after which series are considered idle and not active anymore. Must be greater than 0 and less than 1 hour. (default 20m0s)
  -usage-tracker.instance-ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -usage-tracker.instance-ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -usage-tracker.instance-ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -usage-tracker.instance-ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -usage-tracker.instance-ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -usage-tracker.instance-ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -usage-tracker.instance-ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -usage-tracker.instance-ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -usage-tracker.instance-ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -usage-tracker.instance-ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -usage-tracker.instance-ring.etcd.password string
    	Etcd password.
  -usage-tracker.instance-ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -usage-tracker.instance-ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -usage-tracker.instance-ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -usage-tracker.instance-ring.etcd.tls-enabled
    	Enable TLS.
  -usage-tracker.instance-ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -usage-tracker.instance-ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -usage-tracker.instance-ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -usage-tracker.instance-ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -usage-tracker.instance-ring.etcd.username string
    	Etcd username.
  -usage-tracker.instance-ring.heartbeat-period duration
    	Period at which to heartbeat to the ring. 0 = disabled. (default 15s)
  -usage-tracker.instance-ring.heartbeat-timeout duration
    	The heartbeat timeout after which usage-trackers are considered unhealthy within the ring. (default 1m0s)
  -usage-tracker.instance-ring.instance-addr string
    	IP address to advertise in the ring. Default is auto-detected.
  -usage-tracker.instance-ring.instance-availability-zone string
    	The availability zone where this instance is running.
  -usage-tracker.instance-ring.instance-enable-ipv6
    	Enable using a IPv6 instance address. (default false)
  -usage-tracker.instance-ring.instance-id string
    	Instance ID to register in the ring. (default "<hostname>")
  -usage-tracker.instance-ring.instance-interface-names string
    	List of network interface names to look up when finding the instance IP address. (default [<private network interfaces>])
  -usage-tracker.instance-ring.instance-port int
    	Port to advertise in the ring (defaults to -server.grpc-listen-port).
  -usage-tracker.instance-ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -usage-tracker.instance-ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -usage-tracker.instance-ring.multi.primary string
    	Primary backend storage used by multi-client.
  -usage-tracker.instance-ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -usage-tracker.instance-ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -usage-tracker.instance-ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -usage-tracker.partition-ring.consul.acl-token string
    	ACL Token used to interact with Consul.
  -usage-tracker.partition-ring.consul.cas-retry-delay duration
    	Maximum duration to wait before retrying a Compare And Swap (CAS) operation. (default 1s)
  -usage-tracker.partition-ring.consul.client-timeout duration
    	HTTP timeout when talking to Consul (default 20s)
  -usage-tracker.partition-ring.consul.consistent-reads
    	Enable consistent reads to Consul.
  -usage-tracker.partition-ring.consul.hostname string
    	Hostname and port of Consul. (default "localhost:8500")
  -usage-tracker.partition-ring.consul.watch-burst-size int
    	Burst size used in rate limit. Values less than 1 are treated as 1. (default 1)
  -usage-tracker.partition-ring.consul.watch-rate-limit float
    	Rate limit when watching key or prefix in Consul, in requests per second. 0 disables the rate limit. (default 1)
  -usage-tracker.partition-ring.etcd.dial-timeout duration
    	The dial timeout for the etcd connection. (default 10s)
  -usage-tracker.partition-ring.etcd.endpoints string
    	The etcd endpoints to connect to.
  -usage-tracker.partition-ring.etcd.max-retries int
    	The maximum number of retries to do for failed ops. (default 10)
  -usage-tracker.partition-ring.etcd.password string
    	Etcd password.
  -usage-tracker.partition-ring.etcd.tls-ca-path string
    	Path to the CA certificates to validate server certificate against. If not set, the host's root CA certificates are used.
  -usage-tracker.partition-ring.etcd.tls-cert-path string
    	Path to the client certificate, which will be used for authenticating with the server. Also requires the key path to be configured.
  -usage-tracker.partition-ring.etcd.tls-cipher-suites string
    	Override the default cipher suite list (separated by commas).
  -usage-tracker.partition-ring.etcd.tls-enabled
    	Enable TLS.
  -usage-tracker.partition-ring.etcd.tls-insecure-skip-verify
    	Skip validating server certificate.
  -usage-tracker.partition-ring.etcd.tls-key-path string
    	Path to the key for the client certificate. Also requires the client certificate to be configured.
  -usage-tracker.partition-ring.etcd.tls-min-version string
    	Override the default minimum TLS version. Allowed values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13
  -usage-tracker.partition-ring.etcd.tls-server-name string
    	Override the expected name on the server certificate.
  -usage-tracker.partition-ring.etcd.username string
    	Etcd username.
  -usage-tracker.partition-ring.multi.mirror-enabled
    	Mirror writes to secondary store.
  -usage-tracker.partition-ring.multi.mirror-timeout duration
    	Timeout for storing value to secondary store. (default 2s)
  -usage-tracker.partition-ring.multi.primary string
    	Primary backend storage used by multi-client.
  -usage-tracker.partition-ring.multi.secondary string
    	Secondary backend storage used by multi-client.
  -usage-tracker.partition-ring.prefix string
    	The prefix for the keys in the store. Should end with a /. (default "collectors/")
  -usage-tracker.partition-ring.store string
    	Backend storage to use for the ring. Supported values are: consul, etcd, inmemory, memberlist, multi. (default "memberlist")
  -usage-tracker.snapshot-storage.azure.account-key string
    	Azure storage account key. If unset, Azure managed identities will be used for authentication instead.
  -usage-tracker.snapshot-storage.azure.account-name string
    	Azure storage account name
  -usage-tracker.snapshot-storage.azure.connection-string string
    	If `connection-string` is set, the value of `endpoint-suffix` will not be used. Use this method over `account-key` if you need to authenticate via a SAS token. Or if you use the Azurite emulator.
  -usage-tracker.snapshot-storage.azure.container-name string
    	Azure storage container name
  -usage-tracker.snapshot-storage.azure.endpoint-suffix string
    	Azure storage endpoint suffix without schema. The account name will be prefixed to this value to create the FQDN. If set to empty string, default endpoint suffix is used.
  -usage-tracker.snapshot-storage.azure.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -usage-tracker.snapshot-storage.azure.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -usage-tracker.snapshot-storage.azure.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -usage-tracker.snapshot-storage.azure.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -usage-tracker.snapshot-storage.azure.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -usage-tracker.snapshot-storage.azure.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -usage-tracker.snapshot-storage.azure.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -usage-tracker.snapshot-storage.azure.http.tls-server-name string
    	Override the expected name on the server certificate.
  -usage-tracker.snapshot-storage.azure.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -usage-tracker.snapshot-storage.azure.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -usage-tracker.snapshot-storage.azure.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -usage-tracker.snapshot-storage.azure.max-retries int
    	Number of retries for recoverable errors (default 20)
  -usage-tracker.snapshot-storage.azure.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -usage-tracker.snapshot-storage.azure.user-assigned-id string
    	User assigned managed identity. If empty, then System assigned identity is used.
  -usage-tracker.snapshot-storage.backend string
    	Backend storage to use. Supported backends are: s3, gcs, azure, swift, filesystem. (default "filesystem")
  -usage-tracker.snapshot-storage.filesystem.dir string
    	Local filesystem storage directory. (default "usagetrackersnapshots")
  -usage-tracker.snapshot-storage.gcs.bucket-name string
    	GCS bucket name
  -usage-tracker.snapshot-storage.gcs.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -usage-tracker.snapshot-storage.gcs.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -usage-tracker.snapshot-storage.gcs.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -usage-tracker.snapshot-storage.gcs.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -usage-tracker.snapshot-storage.gcs.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -usage-tracker.snapshot-storage.gcs.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -usage-tracker.snapshot-storage.gcs.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -usage-tracker.snapshot-storage.gcs.http.tls-server-name string
    	Override the expected name on the server certificate.
  -usage-tracker.snapshot-storage.gcs.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -usage-tracker.snapshot-storage.gcs.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -usage-tracker.snapshot-storage.gcs.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -usage-tracker.snapshot-storage.gcs.service-account string
    	JSON either from a Google Developers Console client_credentials.json file, or a Google Developers service account key. Needs to be valid JSON, not a filesystem path.
  -usage-tracker.snapshot-storage.gcs.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -usage-tracker.snapshot-storage.s3.access-key-id string
    	S3 access key ID
  -usage-tracker.snapshot-storage.s3.bucket-lookup-type value
    	Bucket lookup style type, used to access bucket in S3-compatible service. Default is auto. Supported values are: auto, path, virtual-hosted.
  -usage-tracker.snapshot-storage.s3.bucket-name string
    	S3 bucket name
  -usage-tracker.snapshot-storage.s3.dualstack-enabled
    	[experimental] When enabled, direct all AWS S3 requests to the dual-stack IPv4/IPv6 endpoint for the configured region. (default true)
  -usage-tracker.snapshot-storage.s3.endpoint string
    	The S3 bucket endpoint. It could be an AWS S3 endpoint listed at https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an S3-compatible service in hostname:port format.
  -usage-tracker.snapshot-storage.s3.expect-continue-timeout duration
    	The time to wait for a server's first response headers after fully writing the request headers if the request has an Expect header. Set to 0 to send the request body immediately. (default 1s)
  -usage-tracker.snapshot-storage.s3.http.idle-conn-timeout duration
    	The time an idle connection remains idle before closing. (default 1m30s)
  -usage-tracker.snapshot-storage.s3.http.insecure-skip-verify
    	If the client connects to object storage via HTTPS and this option is enabled, the client accepts any certificate and hostname.
  -usage-tracker.snapshot-storage.s3.http.response-header-timeout duration
    	The amount of time the client waits for a server's response headers. (default 2m0s)
  -usage-tracker.snapshot-storage.s3.http.tls-ca-path string
    	Path to the Certificate Authority (CA) certificates to validate the server certificate. If not set, the host's root CA certificates are used.
  -usage-tracker.snapshot-storage.s3.http.tls-cert-path string
    	Path to the client certificate, which is used for authenticating with the server. This setting also requires you to configure the key path.
  -usage-tracker.snapshot-storage.s3.http.tls-key-path string
    	Path to the key for the client certificate. This setting also requires you to configure the client certificate.
  -usage-tracker.snapshot-storage.s3.http.tls-server-name string
    	Override the expected name on the server certificate.
  -usage-tracker.snapshot-storage.s3.insecure
    	If enabled, use http:// for the S3 endpoint instead of https://. This could be useful in local dev/test environments while using an S3-compatible backend storage, like Minio.
  -usage-tracker.snapshot-storage.s3.list-objects-version string
    	Use a specific version of the S3 list object API. Supported values are v1 or v2. Default is unset.
  -usage-tracker.snapshot-storage.s3.max-connections-per-host int
    	Maximum number of connections per host. Set to 0 for no limit.
  -usage-tracker.snapshot-storage.s3.max-idle-connections int
    	Maximum number of idle (keep-alive) connections across all hosts. Set to 0 for no limit. (default 100)
  -usage-tracker.snapshot-storage.s3.max-idle-connections-per-host int
    	Maximum number of idle (keep-alive) connections to keep per-host. Set to 0 to use a built-in default value of 2. (default 100)
  -usage-tracker.snapshot-storage.s3.native-aws-auth-enabled
    	[experimental] If enabled, it will use the default authentication methods of the AWS SDK for go based on known environment variables and known AWS config files.
  -usage-tracker.snapshot-storage.s3.part-size uint
    	[experimental] The minimum file size in bytes used for multipart uploads. If 0, the value is optimally computed for each object.
  -usage-tracker.snapshot-storage.s3.region string
    	S3 region. If unset, the client will issue a S3 GetBucketLocation API call to autodetect it.
  -usage-tracker.snapshot-storage.s3.secret-access-key string
    	S3 secret access key
  -usage-tracker.snapshot-storage.s3.send-content-md5
    	[experimental] If enabled, a Content-MD5 header is sent with S3 Put Object requests. Consumes more resources to compute the MD5, but may improve compatibility with object storage services that do not support checksums.
  -usage-tracker.snapshot-storage.s3.session-token string
    	S3 session token
  -usage-tracker.snapshot-storage.s3.signature-version string
    	The signature version to use for authenticating against S3. Supported values are: v4, v2. (default "v4")
  -usage-tracker.snapshot-storage.s3.sse.kms-encryption-context string
    	KMS Encryption Context used for object encryption. It expects JSON formatted string.
  -usage-tracker.snapshot-storage.s3.sse.kms-key-id string
    	KMS Key ID used to encrypt objects in S3
  -usage-tracker.snapshot-storage.s3.sse.type string
    	Enable AWS Server Side Encryption. Supported values: SSE-KMS, SSE-S3.
  -usage-tracker.snapshot-storage.s3.storage-class string
    	[experimental] The S3 storage class to use, not set by default. Details can be found at https://aws.amazon.com/s3/storage-classes/. Supported values are: STANDARD, REDUCED_REDUNDANCY, GLACIER, STANDARD_IA, ONEZONE_IA, INTELLIGENT_TIERING, DEEP_ARCHIVE, OUTPOSTS, GLACIER_IR, SNOW, EXPRESS_ONEZONE
  -usage-tracker.snapshot-storage.s3.sts-endpoint string
    	Accessing S3 resources using temporary, secure credentials provided by AWS Security Token Service.
  -usage-tracker.snapshot-storage.s3.tls-handshake-timeout duration
    	Maximum time to wait for a TLS handshake. Set to 0 for no limit. (default 10s)
  -usage-tracker.snapshot-storage.s3.trace.enabled
    	When enabled, low-level S3 HTTP operation information is logged at the debug level.
  -usage-tracker.snapshot-storage.storage-prefix string
    	Prefix for all objects stored in the backend storage. For simplicity, it may only contain digits and English alphabet letters.
  -usage-tracker.snapshot-storage.swift.application-credential-id string
    	OpenStack Swift application credential id
  -usage-tracker.snapshot-storage.swift.application-credential-name string
    	OpenStack Swift application credential name
  -usage-tracker.snapshot-storage.swift.application-credential-secret string
    	OpenStack Swift application credential secret
  -usage-tracker.snapshot-storage.swift.auth-url string
    	OpenStack Swift authentication URL
  -usage-tracker.snapshot-storage.swift.auth-version int
    	OpenStack Swift authentication API version. 0 to autodetect.
  -usage-tracker.snapshot-storage.swift.connect-timeout duration
    	Time after which a connection attempt is aborted. (default 10s)
  -usage-tracker.snapshot-storage.swift.container-name string
    	Name of the OpenStack Swift container to put chunks in.
  -usage-tracker.snapshot-storage.swift.domain-id string
    	OpenStack Swift user's domain ID.
  -usage-tracker.snapshot-storage.swift.domain-name string
    	OpenStack Swift user's domain name.
  -usage-tracker.snapshot-storage.swift.max-retries int
    	Max retries on requests error. (default 3)
  -usage-tracker.snapshot-storage.swift.password string
    	OpenStack Swift API key.
  -usage-tracker.snapshot-storage.swift.project-domain-id string
    	ID of the OpenStack Swift project's domain (v3 auth only), only needed if it differs the from user domain.
  -usage-tracker.snapshot-storage.swift.project-domain-name string
    	Name of the OpenStack Swift project's domain (v3 auth only), only needed if it differs from the user domain.
  -usage-tracker.snapshot-storage.swift.project-id string
    	OpenStack Swift project ID (v2,v3 auth only).
  -usage-tracker.snapshot-storage.swift.project-name string
    	OpenStack Swift project name (v2,v3 auth only).
  -usage-tracker.snapshot-storage.swift.region-name string
    	OpenStack Swift Region to use (v2,v3 auth only).
  -usage-tracker.snapshot-storage.swift.request-timeout duration
    	Time after which an idle request is aborted. The timeout watchdog is reset each time some data is received, so the timeout triggers after X time no data is received on a request. (default 5s)
  -usage-tracker.snapshot-storage.swift.user-domain-id string
    	OpenStack Swift user's domain ID.
  -usage-tracker.snapshot-storage.swift.user-domain-name string
    	OpenStack Swift user's domain name.
  -usage-tracker.snapshot-storage.swift.user-id string
    	OpenStack Swift user ID.
  -usage-tracker.snapshot-storage.swift.username string
    	OpenStack Swift username.
  -validation.create-grace-period duration
    	Controls how far into the future incoming samples and exemplars are accepted compared to the wall clock. Any sample or exemplar will be rejected if its timestamp is greater than '(now + creation_grace_period)'. This configuration is enforced in the distributor and ingester. (default 10m)
  -validation.enforce-metadata-metric-name
    	Enforce every metadata has a metric name. (default true)
  -validation.max-label-names-per-info-series int
    	Maximum number of label names per info series. Has no effect if less than the value of the maximum number of label names per series option (-validation.max-label-names-per-series) (default 80)
  -validation.max-label-names-per-series int
    	Maximum number of label names per series. (default 30)
  -validation.max-length-label-name int
    	Maximum length accepted for label names (default 1024)
  -validation.max-length-label-value int
    	Maximum length accepted for label value. This setting also applies to the metric name (default 2048)
  -validation.max-metadata-length int
    	Maximum length accepted for metric metadata. Metadata refers to Metric Name, HELP and UNIT. Longer metadata is dropped except for HELP which is truncated. (default 1024)
  -validation.max-native-histogram-buckets int
    	Maximum number of buckets per native histogram sample. 0 to disable the limit.
  -validation.past-grace-period duration
    	Controls how far into the past incoming samples and exemplars are accepted compared to the wall clock. Any sample or exemplar will be rejected if its timestamp is lower than '(now - OOO window - past_grace_period)'. This configuration is enforced in the distributor and ingester. 0 to disable.
  -validation.reduce-native-histogram-over-max-buckets
    	Whether to reduce or reject native histogram samples with more buckets than the configured limit. (default true)
  -validation.separate-metrics-group-label string
    	[experimental] Label used to define the group label for metrics separation. For each write request, the group is obtained from the first non-empty group label from the first timeseries in the incoming list of timeseries. Specific distributor and ingester metrics will be further separated adding a 'group' label with group label's value. Currently applies to the following metrics: cortex_discarded_samples_total
  -vault.auth.approle.mount-path string
    	[experimental] Path if the Vault backend was mounted using a non-default path
  -vault.auth.approle.role-id string
    	[experimental] Role ID of the AppRole
  -vault.auth.approle.secret-id string
    	[experimental] Secret ID issued against the AppRole
  -vault.auth.approle.wrapping-token
    	[experimental] Response wrapping token if the Secret ID is response wrapped
  -vault.auth.kubernetes.mount-path string
    	[experimental] Path if the Vault backend was mounted using a non-default path
  -vault.auth.kubernetes.role-name string
    	[experimental] The Kubernetes named role
  -vault.auth.kubernetes.service-account-token string
    	[experimental] The Service Account JWT
  -vault.auth.kubernetes.service-account-token-path string
    	[experimental] Path to where the Kubernetes service account token is mounted. By default it lives at /var/run/secrets/kubernetes.io/serviceaccount/token. Field will be used if the service_account_token is not specified.
  -vault.auth.token string
    	[experimental] The token used to authenticate against Vault
  -vault.auth.type string
    	[experimental] Authentication type to use. Supported types are: approle, kubernetes, userpass, token
  -vault.auth.userpass.mount-path string
    	[experimental] Path if the Vault backend was mounted using a non-default path
  -vault.auth.userpass.password string
    	[experimental] The userpass auth method password
  -vault.auth.userpass.username string
    	[experimental] The userpass auth method username
  -vault.enabled
    	[experimental] Enables fetching of keys and certificates from Vault
  -vault.mount-path string
    	[experimental] Location of secrets engine within Vault
  -vault.url string
    	[experimental] Location of the Vault server
  -version
    	Print application version and exit.
