---
title: "Grafana Mimir Helm chart version 3.2 release notes"
menuTitle: "V3.2 release notes"
description: "Release notes for Grafana Mimir Helm chart version 3.2"
weight: 300
---

# Grafana Mimir Helm chart version 3.2 release notes

Grafana Labs is excited to announce version 3.2 of Grafana Mimir Helm chart.

The highlights that follow include the top features, enhancements, and bugfixes in this release. For the complete list of changes, see the [changelog](https://github.com/grafana/mimir/blob/main/CHANGELOG.md).

**Note**: If you are upgrading from Grafana Mimir 2.3, review the [list of important changes](#important-changes) that follow.

## Features and enhancements

- **TBD**:
  TBD

The `mimir-distributed` Helm chart is the best way to install Mimir on Kubernetes. As part of the Mimir 2.4 release, weâ€™re also releasing version 3.2 of the `mimir-distributed` Helm chart.

Notable enhancements follow. For the full list of changes, see the [Helm chart changelog](https://github.com/grafana/mimir/tree/main/operations/helm/charts/mimir-distributed/CHANGELOG.md).

- Added support for [topologySpreadContraints](https://kubernetes.io/docs/concepts/scheduling-eviction/topology-spread-constraints/).
- Replaced the default anti-affinity rules with topologySpreadContraints for all components which puts less restrictions on where Kubernetes can run pods.
- **Important**: if you are not using the sizing plans (small.yaml, large.yaml, capped-small.yaml, capped-large.yaml) in production, you must reintroduce pod affinity rules for the ingester and store-gateway. This also fixes a missing label selector for the ingester.
  Merge the following with your custom values file:
  ```yaml
  ingester:
    affinity:
      podAntiAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          - labelSelector:
              matchExpressions:
                - key: target
                  operator: In
                  values:
                    - ingester
            topologyKey: "kubernetes.io/hostname"
          - labelSelector:
              matchExpressions:
                - key: app.kubernetes.io/component
                  operator: In
                  values:
                    - ingester
            topologyKey: "kubernetes.io/hostname"
  store_gateway:
    affinity:
      podAntiAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          - labelSelector:
              matchExpressions:
                - key: target
                  operator: In
                  values:
                    - store-gateway
            topologyKey: "kubernetes.io/hostname"
          - labelSelector:
              matchExpressions:
                - key: app.kubernetes.io/component
                  operator: In
                  values:
                    - store-gateway
            topologyKey: "kubernetes.io/hostname"
  ```
- Updated the anti affinity rules in the sizing plans (small.yaml, large.yaml, capped-small.yaml, capped-large.yaml). The sizing plans now enforce that no two pods of the ingester, store-gateway, or alertmanager StatefulSets are scheduled on the same Node. Pods from different StaatefulSets can share a Node.
- Support for Openshift Route resource for nginx has been added.

## Important changes

In Grafana Mimir 2.4, the default values of the following configuration options have changed:

- `-distributor.remote-timeout` has changed from `20s` to `2s`.
- `-distributor.forwarding.request-timeout` has changed from `10s` to `2s`.
- `-blocks-storage.tsdb.head-compaction-concurrency` has changed from `5` to `1`.
- The hash-ring heartbeat period for distributors, ingesters, rulers, and compactors has increased from `5s` to `15s`.

In Grafana Mimir 2.4, the following deprecated configuration options have been removed:

- The YAML configuration option `limits.active_series_custom_trackers_config`.
- The CLI flag `-ingester.ring.join-after` and its respective YAML configuration option `ingester.ring.join_after`.
- The CLI flag `-querier.shuffle-sharding-ingesters-lookback-period` and its respective YAML configuration option `querier.shuffle_sharding_ingesters_lookback_period`.

With Grafana Mimir 2.4, the [anonymous usage statistics tracking]({{< relref "../operators-guide/configure/about-anonymous-usage-statistics-reporting.md" >}}) is enabled by default.
Mimir maintainers use this anonymous information to learn more about how the open source community runs Mimir and what the Mimir team should focus on when working on the next features and documentation improvements.
If possible, we ask you to keep the usage reporting feature enabled.
In case you want to opt-out from anonymous usage statistics reporting, refer to [Disable the anonymous usage statistics reporting]({{< relref "../operators-guide/configure/about-anonymous-usage-statistics-reporting.md#disable-the-anonymous-usage-statistics-reporting" >}}).

## Bug fixes

- [PR 2979](https://github.com/grafana/mimir/pull/2979): Fix remote write HTTP response status code returned by Mimir when failing to write only to one ingester (the quorum is still honored when running Mimir with the default replication factor of 3) and some series are not ingested because of validation errors or some limits being reached.
- [PR 3005](https://github.com/grafana/mimir/pull/3005): Fix the querier to re-balance its workers connections when a query-frontend or query-scheduler instance is terminated.
- [PR 2963](https://github.com/grafana/mimir/pull/2963): Fix the remote read endpoint to correctly support the `Accept-Encoding: snappy` HTTP request header.
