# Pin kube version so results are the same for running in CI and locally where the installed kube version may be different.
kubeVersionOverride: "1.20"

kedaAutoscaling:
  prometheusAddress: "https://mimir.example.com/prometheus"
  pollingInterval: 10

distributor:
  kedaAutoscaling:
    enabled: true
    minReplicaCount: 1
    maxReplicaCount: 10
    pollingInterval: 11
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80
    prometheusAddress: "https://mimir1.example.com/localprometheus"
    customHeaders:
      X-Scope-OrgID: tenant-1

ruler:
  kedaAutoscaling:
    enabled: true
    minReplicaCount: 1
    maxReplicaCount: 10
    pollingInterval: 12
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80
    prometheusAddress: "https://mimir2.example.com/localprometheus"
    customHeaders:
      X-Scope-OrgID: tenant-1

querier:
  kedaAutoscaling:
    enabled: true
    minReplicaCount: 2
    maxReplicaCount: 10
    pollingInterval: 13
    querySchedulerInflightRequestsThreshold: 6
    prometheusAddress: "https://mimir3.example.com/localprometheus"
    customHeaders:
      X-Scope-OrgID: tenant-1

query_frontend:
  kedaAutoscaling:
    enabled: true
    minReplicaCount: 1
    maxReplicaCount: 10
    pollingInterval: 14
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80
    prometheusAddress: "https://mimir4.example.com/localprometheus"
    customHeaders:
      X-Scope-OrgID: tenant-1